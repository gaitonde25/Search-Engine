b'Author note: I think some of you might remember the problem "Two Melodies" from Eductational Codeforces Round 22. Now it\'s time to make it a bit more difficult!'
b'Alice is a composer, and recently she had recorded two tracks that became very popular. Now she has got a lot of fans who are waiting for new tracks. '
b'This time Alice wants to form four melodies for her tracks.'
b'Alice has a sheet with n notes written on it. She wants to take four such non-empty non-intersecting subsequences that all of them form a melody and sum of their lengths is maximal.'
b'Subsequence is a sequence that can be derived from another sequence by deleting some elements without changing the order of the remaining elements.'
b'Subsequence forms a melody when each two adjacent notes either differ by 1 or are congruent modulo 7.'
b'You should write a program which will calculate maximum sum of lengths of such four non-empty non-intersecting subsequences that all of them form a melody.'
b'Input'
b'The first line contains one integer number n (4\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x893000).'
b'The second line contains n integer numbers a1,\xe2\x80\x89a2,\xe2\x80\x89...,\xe2\x80\x89an (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ai\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89105) \xe2\x80\x94 notes written on a sheet.'
b'Output'
b'Print maximum sum of lengths of such four non-empty non-intersecting subsequences that all of them form a melody.'
Tags
flows, graphs, *2600
