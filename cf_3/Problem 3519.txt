b'Recently, you bought a brand new smart lamp with programming features. At first, you set up a schedule to the lamp. Every day it will turn power on at moment 00 and turn power off at moment MM. Moreover, the lamp allows you to set a program of switching its state (states are "lights on" and "lights off"). Unfortunately, some program is already installed into the lamp.'
b'The lamp allows only good programs. Good program can be represented as a non-empty array aa, where 0<a1<a2<\xe2\x8b\xaf<a|a|<M0<a1<a2<\xe2\x8b\xaf<a|a|<M. All aiai must be integers. Of course, preinstalled program is a good program.'
b'The lamp follows program aa in next manner: at moment 00 turns power and light on. Then at moment aiai the lamp flips its state to opposite (if it was lit, it turns off, and vice versa). The state of the lamp flips instantly: for example, if you turn the light off at moment 11 and then do nothing, the total time when the lamp is lit will be 11. Finally, at moment MM the lamp is turning its power off regardless of its state.'
b"Since you are not among those people who read instructions, and you don't understand the language it's written in, you realize (after some testing) the only possible way to alter the preinstalled program. You can insert at most one element into the program aa, so it still should be a good program after alteration. Insertion can be done between any pair of consecutive elements of aa, or even at the begining or at the end of aa."
b'Find such a way to alter the program that the total time when the lamp is lit is maximum possible. Maybe you should leave program untouched. If the lamp is lit from xx till moment yy, then its lit for y\xe2\x88\x92xy\xe2\x88\x92x units of time. Segments of time when the lamp is lit are summed up.'
b'Input'
b'First line contains two space separated integers nn and MM (1\xe2\x89\xa4n\xe2\x89\xa41051\xe2\x89\xa4n\xe2\x89\xa4105, 2\xe2\x89\xa4M\xe2\x89\xa41092\xe2\x89\xa4M\xe2\x89\xa4109) \xe2\x80\x94 the length of program aa and the moment when power turns off.'
b'Second line contains nn space separated integers a1,a2,\xe2\x80\xa6,ana1,a2,\xe2\x80\xa6,an (0<a1<a2<\xe2\x8b\xaf<an<M0<a1<a2<\xe2\x8b\xaf<an<M) \xe2\x80\x94 initially installed program aa.'
b'Output'
b'Print the only integer \xe2\x80\x94 maximum possible total time when the lamp is lit.'
Tags
greedy, *1500
