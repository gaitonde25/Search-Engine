b'The hobbits Frodo and Sam are carrying the One Ring to Mordor. In order not to be spotted by orcs, they decided to go through the mountains.'
b'The mountain relief can be represented as a polyline with nn points (xi,yi)(xi,yi), numbered from 11 to nn (xi<xi+1xi<xi+1 for 1\xe2\x89\xa4i\xe2\x89\xa4n\xe2\x88\x9211\xe2\x89\xa4i\xe2\x89\xa4n\xe2\x88\x921). Hobbits start their journey at the point (x1,y1)(x1,y1) and should reach the point (xn,yn)(xn,yn) to complete their mission.'
b'The problem is that there is a tower with the Eye of Sauron, which watches them. The tower is located at the point (xn,yn)(xn,yn) and has the height HH, so the Eye is located at the point (xn,yn+H)(xn,yn+H). In order to complete the mission successfully, the hobbits have to wear cloaks all the time when the Sauron Eye can see them, i.\xe2\x80\x89e. when there is a direct line from the Eye to the hobbits which is not intersected by the relief.'
b'The hobbits are low, so their height can be considered negligibly small, but still positive, so when a direct line from the Sauron Eye to the hobbits only touches the relief, the Eye can see them.'
b"  The Sauron Eye can't see hobbits when they are in the left position, but can see them when they are in the right position. "
b'The hobbits do not like to wear cloaks, so they wear them only when they can be spotted by the Eye. Your task is to calculate the total distance the hobbits have to walk while wearing cloaks.'
b'Input'
b'The first line of the input contains two integers nn and HH (2\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x851052\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85105; 1\xe2\x89\xa4H\xe2\x89\xa41041\xe2\x89\xa4H\xe2\x89\xa4104)\xc2\xa0\xe2\x80\x94 the number of vertices in polyline and the tower height.'
b'The next nn lines contain two integers xi,yixi,yi each (0\xe2\x89\xa4xi\xe2\x89\xa44\xe2\x8b\x851050\xe2\x89\xa4xi\xe2\x89\xa44\xe2\x8b\x85105; 0\xe2\x89\xa4yi\xe2\x89\xa41040\xe2\x89\xa4yi\xe2\x89\xa4104)\xc2\xa0\xe2\x80\x94 the coordinates of the polyline vertices. It is guaranteed that xi<xi+1xi<xi+1 for 1\xe2\x89\xa4i\xe2\x89\xa4n\xe2\x88\x9211\xe2\x89\xa4i\xe2\x89\xa4n\xe2\x88\x921.'
b'Output'
b"Print one real number \xe2\x80\x94 the total distance the hobbits have to walk while wearing cloaks. Your answer will be considered correct if its absolute or relative error does not exceed 10\xe2\x88\x92610\xe2\x88\x926 \xe2\x80\x94 formally, if your answer is aa, and the jury's answer is bb, your answer will be accepted if |a\xe2\x88\x92b|max(1,b)\xe2\x89\xa410\xe2\x88\x926|a\xe2\x88\x92b|max(1,b)\xe2\x89\xa410\xe2\x88\x926."
Tags
binary search, geometry, *2500
