b'Earlier, when there was no Internet, each bank had a lot of offices all around Bankopolis, and it caused a lot of problems. Namely, each day the bank had to collect cash from all the offices.'
b'Once Oleg the bank client heard a dialogue of two cash collectors. Each day they traveled through all the departments and offices of the bank following the same route every day. The collectors started from the central department and moved between some departments or between some department and some office using special roads. Finally, they returned to the central department. The total number of departments and offices was n, the total number of roads was n\xe2\x80\x89-\xe2\x80\x891. In other words, the special roads system was a rooted tree in which the root was the central department, the leaves were offices, the internal vertices were departments. The collectors always followed the same route in which the number of roads was minimum possible, that is 2n\xe2\x80\x89-\xe2\x80\x892.'
b'One of the collectors said that the number of offices they visited between their visits to offices a and then b (in the given order) is equal to the number of offices they visited between their visits to offices b and then a (in this order). The other collector said that the number of offices they visited between their visits to offices c and then d (in this order) is equal to the number of offices they visited between their visits to offices d and then c (in this order). The interesting part in this talk was that the shortest path (using special roads only) between any pair of offices among a, b, c and d passed through the central department.'
b'Given the special roads map and the indexes of offices a, b, c and d, determine if the situation described by the collectors was possible, or not.'
b'Input'
b'The first line contains single integer n (5\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x895000)\xc2\xa0\xe2\x80\x94 the total number of offices and departments. The departments and offices are numbered from 1 to n, the central office has index 1.'
b"The second line contains four integers a, b, c and d (2\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89a,\xe2\x80\x89b,\xe2\x80\x89c,\xe2\x80\x89d\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n)\xc2\xa0\xe2\x80\x94 the indexes of the departments mentioned in collector's dialogue. It is guaranteed that these indexes are offices (i.e. leaves of the tree), not departments. It is guaranteed that the shortest path between any pair of these offices passes through the central department."
b'On the third line n\xe2\x80\x89-\xe2\x80\x891 integers follow: p2,\xe2\x80\x89p3,\xe2\x80\x89...,\xe2\x80\x89pn (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89pi\xe2\x80\x89<\xe2\x80\x89i), where pi denotes that there is a special road between the i-th office or department and the pi-th department.'
b'Please note the joint enumeration of departments and offices.'
b'It is guaranteed that the given graph is a tree. The offices are the leaves, the departments are the internal vertices.'
b'Output'
b'If the situation described by the cash collectors was possible, print "YES". Otherwise, print "NO".'
Tags
constructive algorithms, dfs and similar, dp, trees, *2900
