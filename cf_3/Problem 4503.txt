b'This is an interactive problem.'
b"The judge has a hidden rooted full binary tree with n leaves. A full binary tree is one where every node has either 0 or 2 children. The nodes with 0 children are called the leaves of the tree. Since this is a full binary tree, there are exactly 2n\xe2\x80\x89-\xe2\x80\x891 nodes in the tree. The leaves of the judge's tree has labels from 1 to n. You would like to reconstruct a tree that is isomorphic to the judge's tree. To do this, you can ask some questions."
b'A question consists of printing the label of three distinct leaves a1,\xe2\x80\x89a2,\xe2\x80\x89a3. Let the depth of a node be the shortest distance from the node to the root of the tree. Let LCA(a,\xe2\x80\x89b) denote the node with maximum depth that is a common ancestor of the nodes a and b.'
b"Consider X\xe2\x80\x89=\xe2\x80\x89LCA(a1,\xe2\x80\x89a2),\xe2\x80\x89Y\xe2\x80\x89=\xe2\x80\x89LCA(a2,\xe2\x80\x89a3),\xe2\x80\x89Z\xe2\x80\x89=\xe2\x80\x89LCA(a3,\xe2\x80\x89a1). The judge will tell you which one of X,\xe2\x80\x89Y,\xe2\x80\x89Z has the maximum depth. Note, this pair is uniquely determined since the tree is a binary tree; there can't be any ties. "
b'More specifically, if X (or Y, Z respectively) maximizes the depth, the judge will respond with the string "X" (or "Y", "Z" respectively). '
b'You may only ask at most 10\xc2\xb7n questions.'
b'Input'
b'The first line of input will contain a single integer n (3\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x891\xe2\x80\x89000)\xc2\xa0\xe2\x80\x94 the number of leaves in the tree.'
b'Output'
b'To print the final answer, print out the string "-1" on its own line. Then, the next line should contain 2n\xe2\x80\x89-\xe2\x80\x891 integers. The i-th integer should be the parent of the i-th node, or -1, if it is the root.'
b"Your answer will be judged correct if your output is isomorphic to the judge's tree. In particular, the labels of the leaves do not need to be labeled from 1 to n. Here, isomorphic means that there exists a permutation \xcf\x80 such that node i is the parent of node j in the judge tree if and only node \xcf\x80(i) is the parent of node \xcf\x80(j) in your tree."
Tags
binary search, divide and conquer, interactive, trees, *3200
