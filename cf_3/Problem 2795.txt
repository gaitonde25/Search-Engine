b'You are given a string ss consisting of characters "1", "0", and "?". The first character of ss is guaranteed to be "1". Let mm be the number of characters in ss.'
b'Count the number of ways we can choose a pair of integers a,ba,b that satisfies the following: '
b'  1\xe2\x89\xa4a<b<2m1\xe2\x89\xa4a<b<2m  When written without leading zeros, the base-2 representations of aa and bb are both palindromes.  The base-2 representation of bitwise XOR of aa and bb matches the pattern ss. We say that tt matches ss if the lengths of tt and ss are the same and for every ii, the ii-th character of tt is equal to the ii-th character of ss, or the ii-th character of ss is "?". '
b'Compute this count modulo 998244353998244353. '
b'Input'
b'The first line contains a single string ss (1\xe2\x89\xa4|s|\xe2\x89\xa410001\xe2\x89\xa4|s|\xe2\x89\xa41000). ss consists only of characters "1", "0" and "?". It is guaranteed that the first character of ss is a "1".'
b'Output'
b'Print a single integer, the count of pairs that satisfy the conditions modulo 998244353998244353.'
Tags
dfs and similar, graphs, *2400
