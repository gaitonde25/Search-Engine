b'You are given a piece of paper in the shape of a simple polygon SS. Your task is to turn it into a simple polygon TT that has the same area as SS.'
b'You can use two tools: scissors and tape. Scissors can be used to cut any polygon into smaller polygonal pieces. Tape can be used to combine smaller pieces into larger polygons. You can use each tool multiple times, in any order. '
b'The polygons given in the input have integer coordinates, but you are allowed to produce shapes with non-integer coordinates in your output.'
b'A formal definition of the task follows.'
b'A shape Q=(Q0,\xe2\x80\xa6,Qn\xe2\x88\x921)Q=(Q0,\xe2\x80\xa6,Qn\xe2\x88\x921) is a sequence of three or more points in the plane such that: '
b'  The closed polyline Q0Q1Q2\xe2\x80\xa6Qn\xe2\x88\x921Q0Q0Q1Q2\xe2\x80\xa6Qn\xe2\x88\x921Q0 never touches or intersects itself, and therefore it forms the boundary of a simple polygon.  The polyline goes around the boundary of the polygon in the counter-clockwise direction. '
b'The polygon whose boundary is the shape QQ will be denoted P(Q)P(Q).'
b'Two shapes are called equivalent if one can be translated and/or rotated to become identical with the other.'
b'Note that mirroring a shape is not allowed. Also note that the order of points matters: the shape (Q1,\xe2\x80\xa6,Qn\xe2\x88\x921,Q0)(Q1,\xe2\x80\xa6,Qn\xe2\x88\x921,Q0) is not necessarily equivalent to the shape (Q0,\xe2\x80\xa6,Qn\xe2\x88\x921)(Q0,\xe2\x80\xa6,Qn\xe2\x88\x921).'
b''
b'In the figure on the left: Shapes UU and VV are equivalent. Shape WW is not equivalent with them because the points of WW are given in a different order. Regardless of the order of points, the fourth shape is not equivalent with the previous ones either as flipping a shape is not allowed.'
b'In both input and output, a shape with nn points is represented as a single line that contains 2n+12n+1 space-separated numbers: the number nn followed by the coordinates of the points: Q0,xQ0,x, Q0,yQ0,y, Q1,xQ1,x, ...'
b'Shapes have identification numbers (IDs). The given shape SS has ID 0, the shapes you produce in your solutions are given IDs 1, 2, 3, ..., in the order in which they are produced.'
b'Shapes B1,\xe2\x80\xa6,BkB1,\xe2\x80\xa6,Bk form a subdivision of shape AA if: '
b'  The union of all P(Bi)P(Bi) is exactly P(A)P(A).  For each i\xe2\x89\xa0ji\xe2\x89\xa0j, the area of the intersection of P(Bi)P(Bi) and P(Bj)P(Bj) is zero. '
b'The scissors operation destroys one existing shape AA and produces one or more shapes B1,\xe2\x80\xa6,BkB1,\xe2\x80\xa6,Bk that form a subdivision of AA.'
b''
b'In the figure: Shape AA (square) subdivided into shapes B1B1, B2B2, B3B3 (the three triangles). One valid way to describe one of the BiBi is "3 3 1 6 1 5.1 4".'
b'The tape operation destroys one or more existing shapes A1,\xe2\x80\xa6,AkA1,\xe2\x80\xa6,Ak and produces one new shape BB. In order to perform this operation, you must first specify shapes C1,\xe2\x80\xa6,CkC1,\xe2\x80\xa6,Ck and only then the final shape BB. These shapes must satisfy the following: '
b'  For each ii, the shape CiCi is equivalent to the shape AiAi.  The shapes C1,\xe2\x80\xa6,CkC1,\xe2\x80\xa6,Ck form a subdivision of the shape BB. '
b'Informally, you choose the shape BB and show how to move each of the existing AiAi to its correct location CiCi within BB. Note that only the shape BB gets a new ID, the shapes CiCi do not.'
b'Input'
b'The first line contains the source shape SS.'
b'The second line contains the target shape TT.'
b'Each shape has between 3 and 10 points, inclusive. Both shapes are given in the format specified above.'
b'All coordinates in the input are integers between \xe2\x88\x92106\xe2\x88\x92106 and 106106, inclusive.'
b'In each shape, no three points form an angle smaller than 3 degrees. (This includes non-consecutive points and implies that no three points are collinear.)'
b'The polygons P(S)P(S) and P(T)P(T) have the same area.'
b'Output'
b'Whenever you use the scissors operation, output a block of lines of the form: '
b'scissorsid(A) kB_1B_2...B_k'
b'where id(A)id(A) is the ID of the shape you want to destroy, kk is the number of new shapes you want to produce, and B1,\xe2\x80\xa6,BkB1,\xe2\x80\xa6,Bk are those shapes.'
b'Whenever you use the tape operation, output a block of lines of the form: '
b'tapek id(A_1) ... id(A_k)C_1C_2...C_kB'
b'where kk is the number of shapes you want to tape together, id(A1),\xe2\x80\xa6,id(Ak)id(A1),\xe2\x80\xa6,id(Ak) are their IDs, C1,\xe2\x80\xa6,CkC1,\xe2\x80\xa6,Ck are equivalent shapes showing their position within BB, and BB is the final shape obtained by taping them together.'
b'It is recommended to output coordinates of points to at least 10 decimal places.'
b'The output must satisfy the following: '
b"  All coordinates of points in the output must be between \xe2\x88\x92107\xe2\x88\x92107 and 107107, inclusive.  Each shape in the output must have at most 100100 points.  In each operation the number kk of shapes must be between 11 and 100100, inclusive.  The number of operations must not exceed 20002000.  The total number of points in all shapes in the output must not exceed 2000020000.  In the end, there must be exactly one shape (that hasn't been destroyed), and that shape must be equivalent to TT.  All operations must be valid according to the checker. Solutions with small rounding errors will be accepted. (Internally, all comparisons check for absolute or relative error up to 10\xe2\x88\x92310\xe2\x88\x923 when verifying each condition.) "
Tags
*special problem, constructive algorithms, geometry
