b'When you play the game of thrones, you win, or you die. There is no middle ground.Cersei Lannister, A Game of Thrones by George R.\xc2\xa0R. Martin'
b'There are nn nobles, numbered from 11 to nn. Noble ii has a power of ii. There are also mm "friendships". A friendship between nobles aa and bb is always mutual.'
b'A noble is defined to be vulnerable if both of the following conditions are satisfied: '
b"  the noble has at least one friend, and  all of that noble's friends have a higher power. "
b'You will have to process the following three types of queries. '
b'  Add a friendship between nobles uu and vv.  Remove a friendship between nobles uu and vv.  Calculate the answer to the following process. '
b'The process: all vulnerable nobles are simultaneously killed, and all their friendships end. Then, it is possible that new nobles become vulnerable. The process repeats itself until no nobles are vulnerable. It can be proven that the process will end in finite time. After the process is complete, you need to calculate the number of remaining nobles.'
b'Note that the results of the process are not carried over between queries, that is, every process starts with all nobles being alive!'
b'Input'
b'The first line contains the integers nn and mm (1\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85105, 0\xe2\x89\xa4m\xe2\x89\xa42\xe2\x8b\x851050\xe2\x89\xa4m\xe2\x89\xa42\xe2\x8b\x85105) \xe2\x80\x94 the number of nobles and number of original friendships respectively.'
b'The next mm lines each contain the integers uu and vv (1\xe2\x89\xa4u,v\xe2\x89\xa4n1\xe2\x89\xa4u,v\xe2\x89\xa4n, u\xe2\x89\xa0vu\xe2\x89\xa0v), describing a friendship. No friendship is listed twice.'
b'The next line contains the integer qq (1\xe2\x89\xa4q\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4q\xe2\x89\xa42\xe2\x8b\x85105) \xe2\x80\x94 the number of queries. '
b'The next qq lines contain the queries themselves, each query has one of the following three formats. '
b'  11 uu vv (1\xe2\x89\xa4u,v\xe2\x89\xa4n1\xe2\x89\xa4u,v\xe2\x89\xa4n, u\xe2\x89\xa0vu\xe2\x89\xa0v) \xe2\x80\x94 add a friendship between uu and vv. It is guaranteed that uu and vv are not friends at this moment.  22 uu vv (1\xe2\x89\xa4u,v\xe2\x89\xa4n1\xe2\x89\xa4u,v\xe2\x89\xa4n, u\xe2\x89\xa0vu\xe2\x89\xa0v) \xe2\x80\x94 remove a friendship between uu and vv. It is guaranteed that uu and vv are friends at this moment.  33 \xe2\x80\x94 print the answer to the process described in the statement. '
b'Output'
b'For each type 33 query print one integer to a new line. It is guaranteed that there will be at least one type 33 query.'
Tags
brute force, graphs, greedy, *1400
