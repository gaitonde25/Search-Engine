b'In Bubbleland a group of special programming forces gets a top secret job to calculate the number of potentially infected people by a new unknown virus. The state has a population of nn people and every day there is new information about new contacts between people. The job of special programming forces is to calculate how many contacts in the last kk days a given person had. '
b'The new virus has an incubation period of kk days, and after that time people consider as non-infectious. Because the new virus is an extremely dangerous, government mark as suspicious everybody who had direct or indirect contact in the last kk days, independently of the order of contacts.'
b"This virus is very strange, and people can't get durable immunity."
b'You need to help special programming forces to calculate the number of suspicious people for a given person (number of people who had contact with a given person).'
b'There are 3 given inputs on beginning nn where nn is population, qq number of queries, kk virus incubation time in days. Each query is one of three types: '
b'   (xx, yy) person xx and person yy met that day (x\xe2\x89\xa0yx\xe2\x89\xa0y).   (zz) return the number of people in contact with zz, counting himself.   The end of the current day moves on to the next day. '
b' '
b'Input'
b'The first line of input contains three integers nn (1\xe2\x89\xa4n\xe2\x89\xa41051\xe2\x89\xa4n\xe2\x89\xa4105) the number of people in the state, qq (1\xe2\x89\xa4q\xe2\x89\xa45\xc3\x971051\xe2\x89\xa4q\xe2\x89\xa45\xc3\x97105) number of queries and kk (1\xe2\x89\xa4k\xe2\x89\xa41051\xe2\x89\xa4k\xe2\x89\xa4105) virus incubation time in days.'
b'Each of the next qq lines starts with an integer tt (1\xe2\x89\xa4t\xe2\x89\xa431\xe2\x89\xa4t\xe2\x89\xa43) the type of the query.'
b'A pair of integers xx and yy (1\xe2\x89\xa4x,y\xe2\x89\xa4n1\xe2\x89\xa4x,y\xe2\x89\xa4n) follows in the query of the first type (x\xe2\x89\xa0yx\xe2\x89\xa0y).'
b'An integer ii (1\xe2\x89\xa4i\xe2\x89\xa4n1\xe2\x89\xa4i\xe2\x89\xa4n) follows in the query of the second type. '
b'Query of third type does not have the following number.'
b'Output'
b'For the queries of the second type print on a separate line the current number of people in contact with a given person.'
Tags
data structures, divide and conquer, dsu, graphs, *2500
