b'You are a warrior fighting against the machine god Thor.'
b'Thor challenge you to solve the following problem:'
b'There are nn conveyors arranged in a line numbered with integers from 11 to nn from left to right. Each conveyor has a symbol "<" or ">". The initial state of the conveyor ii is equal to the ii-th character of the string ss. There are n+1n+1 holes numbered with integers from 00 to nn. The hole 00 is on the left side of the conveyor 11, and for all i\xe2\x89\xa51i\xe2\x89\xa51 the hole ii is on the right side of the conveyor ii.'
b'When a ball is on the conveyor ii, the ball moves by the next rules:'
b'If the symbol "<" is on the conveyor ii, then:'
b'  If i=1i=1, the ball falls into the hole 00.  If the symbol "<" is on the conveyor i\xe2\x88\x921i\xe2\x88\x921, the ball moves to the conveyor i\xe2\x88\x921i\xe2\x88\x921.  If the symbol ">" is on the conveyor i\xe2\x88\x921i\xe2\x88\x921, the ball falls into the hole i\xe2\x88\x921i\xe2\x88\x921. '
b'If the symbol ">" is on the conveyor ii, then:'
b'  If i=ni=n, the ball falls into the hole nn.  If the symbol ">" is on the conveyor i+1i+1, the ball moves to the conveyor i+1i+1.  If the symbol "<" is on the conveyor i+1i+1, the ball falls into the hole ii. '
b'You should answer next qq queries, each query is defined by the pair of integers l,rl,r (1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n): '
b'  First, for all conveyors l,l+1,...,rl,l+1,...,r, the symbol "<" changes to ">" and vice versa. These changes remain for the next queries.  After that, put one ball on each conveyor l,l+1,...,rl,l+1,...,r. Then, each ball falls into some hole. Find the maximum number of balls in one hole. After the query all balls disappear and don\'t considered in the next queries. '
b'Input'
b'The first line contains two integers nn, qq (1\xe2\x89\xa4n\xe2\x89\xa45\xc3\x97105,1\xe2\x89\xa4q\xe2\x89\xa41051\xe2\x89\xa4n\xe2\x89\xa45\xc3\x97105,1\xe2\x89\xa4q\xe2\x89\xa4105).'
b'The second line contains a string ss of length nn. It consists of characters "<" and ">". '
b'Next qq lines contain the descriptions of the queries, ii-th of them contains two integers ll, rr (1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n)(1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n), describing the ii-th query.'
b'Output'
b'Print qq lines, in the ii-th of them print the answer to the ii-th query.'
Tags
data structures, divide and conquer, implementation, *2800
