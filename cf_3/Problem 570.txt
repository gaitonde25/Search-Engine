b'In optical communication networks, appropriate path planning can improve the utilization of communication resources and bring a smooth communication experience to users. The following figure shows an inter-satellite optical communication network. User messages are sent from one terrestrial base station (nodes 44 to 77) and transmitted through satellites (nodes 00 to 33) in space to another terrestrial base station (nodes 44 to 77).'
b' '
b'  '
b'In the preceding figures, there are communication connections (edges for short) between base stations and satellites and between satellites. The base stations and satellites are referred to as nodes.'
b' User messages are transmitted on these edges and referred to as flows. Some users may make video calls with friends, and some users may send short messages to their family members. Therefore, the message traffic (called flow rate) of each user differs.'
b' There are many parallel edges (for example, edges 00, 11, and 22) between two nodes, and the capacity of each edge also differs. Larger capacity indicates that more user messages can be transmitted, as well as shorter transmission distance indicates lower latency and better communication quality.'
b' Nodes also have their internal structure. As shown below, some edges inside a node cannot communicate with each other because these edges (constrained edge pair) are not fully connected. For example, edge 55 and edge 77 inside node 22 cannot communicate with each other, and therefore flows cannot pass through node 22 by traversing the two unconnected edges.'
b' '
b'  '
b'Now, in the input network, the source node, target node, and required flow rate for each user flow are specified. Because network resources are limited, paths may not be successfully calculated for all user flows. We hope that you can provide a solution with the highest score.'
b'Note, that '
b'  all edges are undirected, so flows may come in both directions,  edges has both capacity and length (named distance),  several flows may use the same edge,  flows may come through the same edge in opposite directions simultaneously,  for the purpose of this problem, there is no difference between satellites and base stations, so flows may come through several base stations before reaching the destination station.  '
b'Constraints'
b' '
b'  The capacity of each edge is limited. The total rate of all flows carried by an edge cannot exceed the capacity of the edge. The capacity limits the total flows in both directions.   The calculated flow path does not allow loops or cycles.   Due to the hardware limitation inside satellites, the number of flows passing through a node (including source and target node) cannot exceed the site flow limit (SFLSFL) of the node. The value of SFLSFL is 200200.   There are multiple parallel edges between two nodes, which may belong to different groups. Links in each group are managed by the same chip on a node, and there is a group flow limit (GFLGFL). The total number of different flows on all the edges in a group cannot exceed the GFLGFL of the group. The value of GFLGFL is 100100.   By default, all edges are connected to each other in each node. But there are some constrained edge pairs\xc2\xa0\xe2\x80\x94 the pairs of edges inside specified nodes that cannot communicate with each other.   You can make no more than 22 submissions on each 55 minutes interval. '
b'Input'
b'The first line contains four integers separated by space: NodeCountNodeCount, EdgeCountEdgeCount, ConstrainedCountConstrainedCount, and FlowCountFlowCount.'
b'  8\xe2\x89\xa4NodeCount\xe2\x89\xa414008\xe2\x89\xa4NodeCount\xe2\x89\xa41400,  15\xe2\x89\xa4EdgeCount\xe2\x89\xa41500015\xe2\x89\xa4EdgeCount\xe2\x89\xa415000,  3\xe2\x89\xa4ConstrainedCount\xe2\x89\xa436003\xe2\x89\xa4ConstrainedCount\xe2\x89\xa43600,  1\xe2\x89\xa4FlowCount\xe2\x89\xa4140001\xe2\x89\xa4FlowCount\xe2\x89\xa414000. '
b'The next EdgeCountEdgeCount lines contain information about the network. Each line contains six integers: EdgeIDEdgeID, GroupIDGroupID, StartNodeIDStartNodeID, EndNodeIDEndNodeID, DistanceDistance, and CapacityCapacity.'
b'  0\xe2\x89\xa4EdgeID<EdgeCount0\xe2\x89\xa4EdgeID<EdgeCount,  0\xe2\x89\xa4GroupID\xe2\x89\xa445000\xe2\x89\xa4GroupID\xe2\x89\xa44500,  0\xe2\x89\xa4StartNodeID,EndNodeID<NodeCount0\xe2\x89\xa4StartNodeID,EndNodeID<NodeCount,  StartNodeID\xe2\x89\xa0EndNodeIDStartNodeID\xe2\x89\xa0EndNodeID,  100\xe2\x89\xa4Distance\xe2\x89\xa410000100\xe2\x89\xa4Distance\xe2\x89\xa410000,  1<Capacity\xe2\x89\xa41051<Capacity\xe2\x89\xa4105. '
b"It's guaranteed that only multiple edges may share the same GroupIDGroupID."
b'The next ConstrainedCountConstrainedCount lines contain information about the edge pairs that are not connected in the specified nodes of the network. All other edges are connected to each other by default. Each line contains three integers: NodeIDNodeID, EdgeID1EdgeID1, and EdgeID2EdgeID2.'
b'  0\xe2\x89\xa4NodeID<NodeCount0\xe2\x89\xa4NodeID<NodeCount,  0\xe2\x89\xa4EdgeID1,EdgeID2<EdgeCount0\xe2\x89\xa4EdgeID1,EdgeID2<EdgeCount,  EdgeID1\xe2\x89\xa0EdgeID2EdgeID1\xe2\x89\xa0EdgeID2. '
b'The next FlowCountFlowCount lines contain information about the flows to be calculated. Each line contains four integers: FlowIDFlowID, SourceNodeSourceNode, TargetNodeTargetNode, and FlowRateFlowRate.'
b'  0\xe2\x89\xa4FlowID<FlowCount0\xe2\x89\xa4FlowID<FlowCount,  0\xe2\x89\xa4SourceNode,TargetNode<NodeCount0\xe2\x89\xa4SourceNode,TargetNode<NodeCount,  SourceNode\xe2\x89\xa0TargetNodeSourceNode\xe2\x89\xa0TargetNode,  2\xe2\x89\xa4FlowRate\xe2\x89\xa4120002\xe2\x89\xa4FlowRate\xe2\x89\xa412000 '
b"Don't forget that the SFLSFL and GFLGFL mentioned above are also important parameters."
b'For the simplicity, both EdgeIDEdgeID and FlowIDFlowID of the ii-th (00-indexed) edge (flow) is always equal to ii.'
b'Output'
b'In the first line, output the number of your success flows.'
b'Next, each line output edge information about the path that a flow passes through. '
b'The format is as follows: FlowID\xc2\xa0EdgeID1\xc2\xa0EdgeID2\xc2\xa0EdgeID3\xc2\xa0\xe2\x80\xa6\xc2\xa0EdgeIDnFlowID\xc2\xa0EdgeID1\xc2\xa0EdgeID2\xc2\xa0EdgeID3\xc2\xa0\xe2\x80\xa6\xc2\xa0EdgeIDn.'
b'There is no requirement on the output sequence between flow paths, but edges in one flow must be outputted in order, from source node to target node. Please output all successfully calculated flow paths. For other flows that are not output, the checker determines that you have not found appropriate paths for the flows by default.'
Tags
*special problem
