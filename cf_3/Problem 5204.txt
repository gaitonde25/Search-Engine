b'They say "years are like dominoes, tumbling one after the other". But would a year fit into a grid? I don\'t think so.'
b"Limak is a little polar bear who loves to play. He has recently got a rectangular grid with h rows and w columns. Each cell is a square, either empty (denoted by '.') or forbidden (denoted by '#'). Rows are numbered 1 through h from top to bottom. Columns are numbered 1 through w from left to right."
b'Also, Limak has a single domino. He wants to put it somewhere in a grid. A domino will occupy exactly two adjacent cells, located either in one row or in one column. Both adjacent cells must be empty and must be inside a grid.'
b'Limak needs more fun and thus he is going to consider some queries. In each query he chooses some rectangle and wonders, how many way are there to put a single domino inside of the chosen rectangle?'
b'Input'
b'The first line of the input contains two integers h and w (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89h,\xe2\x80\x89w\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89500)\xc2\xa0\xe2\x80\x93 the number of rows and the number of columns, respectively.'
b"The next h lines describe a grid. Each line contains a string of the length w. Each character is either '.' or '#'\xc2\xa0\xe2\x80\x94 denoting an empty or forbidden cell, respectively."
b'The next line contains a single integer q (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89q\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89100\xe2\x80\x89000)\xc2\xa0\xe2\x80\x94 the number of queries.'
b'Each of the next q lines contains four integers r1i, c1i, r2i, c2i (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89r1i\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89r2i\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89h,\xe2\x80\x891\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89c1i\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89c2i\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89w)\xc2\xa0\xe2\x80\x94 the i-th query. Numbers r1i and c1i denote the row and the column (respectively) of the upper left cell of the rectangle. Numbers r2i and c2i denote the row and the column (respectively) of the bottom right cell of the rectangle.'
b'Output'
b'Print q integers, i-th should be equal to the number of ways to put a single domino inside the i-th rectangle.'
Tags
dp, implementation, *1500
