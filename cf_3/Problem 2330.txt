b'Alice got a new doll these days. It can even walk!'
b'Alice has built a maze for the doll and wants to test it. The maze is a grid with nn rows and mm columns. There are kk obstacles, the ii-th of them is on the cell (xi,yi)(xi,yi), which means the cell in the intersection of the xixi-th row and the yiyi-th column.'
b'However, the doll is clumsy in some ways. It can only walk straight or turn right at most once in the same cell (including the start cell). It cannot get into a cell with an obstacle or get out of the maze.'
b'More formally, there exist 44 directions, in which the doll can look:'
b'  The doll looks in the direction along the row from the first cell to the last. While moving looking in this direction the doll will move from the cell (x,y)(x,y) into the cell (x,y+1)(x,y+1);  The doll looks in the direction along the column from the first cell to the last. While moving looking in this direction the doll will move from the cell (x,y)(x,y) into the cell (x+1,y)(x+1,y);  The doll looks in the direction along the row from the last cell to first. While moving looking in this direction the doll will move from the cell (x,y)(x,y) into the cell (x,y\xe2\x88\x921)(x,y\xe2\x88\x921);  The doll looks in the direction along the column from the last cell to the first. While moving looking in this direction the doll will move from the cell (x,y)(x,y) into the cell (x\xe2\x88\x921,y)(x\xe2\x88\x921,y). '
b'.'
b"Standing in some cell the doll can move into the cell in the direction it looks or it can turn right once. Turning right once, the doll switches it's direction by the following rules: 1\xe2\x86\x9221\xe2\x86\x922, 2\xe2\x86\x9232\xe2\x86\x923, 3\xe2\x86\x9243\xe2\x86\x924, 4\xe2\x86\x9214\xe2\x86\x921. Standing in one cell, the doll can make at most one turn right."
b"Now Alice is controlling the doll's moves. She puts the doll in of the cell (1,1)(1,1) (the upper-left cell of the maze). Initially, the doll looks to the direction 11, so along the row from the first cell to the last. She wants to let the doll walk across all the cells without obstacles exactly once and end in any place. Can it be achieved?"
b'Input'
b'The first line contains three integers nn, mm and kk, separated by spaces (1\xe2\x89\xa4n,m\xe2\x89\xa4105,0\xe2\x89\xa4k\xe2\x89\xa41051\xe2\x89\xa4n,m\xe2\x89\xa4105,0\xe2\x89\xa4k\xe2\x89\xa4105)\xc2\xa0\xe2\x80\x94 the size of the maze and the number of obstacles.'
b'Next kk lines describes the obstacles, the ii-th line contains two integer numbers xixi and yiyi, separated by spaces (1\xe2\x89\xa4xi\xe2\x89\xa4n,1\xe2\x89\xa4yi\xe2\x89\xa4m1\xe2\x89\xa4xi\xe2\x89\xa4n,1\xe2\x89\xa4yi\xe2\x89\xa4m), which describes the position of the ii-th obstacle.'
b'It is guaranteed that no two obstacles are in the same cell and no obstacle is in cell (1,1)(1,1).'
b'Output'
b"Print 'Yes' (without quotes) if the doll can walk across all the cells without obstacles exactly once by the rules, described in the statement."
b"If it is impossible to walk across the maze by these rules print 'No' (without quotes)."
Tags
brute force, data structures, greedy, implementation, *2300
