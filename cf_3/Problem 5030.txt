b'Little Petya is now fond of data compression algorithms. He has already studied gz, bz, zip algorithms and many others. Inspired by the new knowledge, Petya is now developing the new compression algorithm which he wants to name dis.'
b"Petya decided to compress tables. He is given a table a consisting of n rows and m columns that is filled with positive integers. He wants to build the table a' consisting of positive integers such that the relative order of the elements in each row and each column remains the same. That is, if in some row i of the initial table ai,\xe2\x80\x89j\xe2\x80\x89<\xe2\x80\x89ai,\xe2\x80\x89k, then in the resulting table a'i,\xe2\x80\x89j\xe2\x80\x89<\xe2\x80\x89a'i,\xe2\x80\x89k, and if ai,\xe2\x80\x89j\xe2\x80\x89=\xe2\x80\x89ai,\xe2\x80\x89k then a'i,\xe2\x80\x89j\xe2\x80\x89=\xe2\x80\x89a'i,\xe2\x80\x89k. Similarly, if in some column j of the initial table ai,\xe2\x80\x89j\xe2\x80\x89<\xe2\x80\x89ap,\xe2\x80\x89j then in compressed table a'i,\xe2\x80\x89j\xe2\x80\x89<\xe2\x80\x89a'p,\xe2\x80\x89j and if ai,\xe2\x80\x89j\xe2\x80\x89=\xe2\x80\x89ap,\xe2\x80\x89j then a'i,\xe2\x80\x89j\xe2\x80\x89=\xe2\x80\x89a'p,\xe2\x80\x89j. "
b"Because large values require more space to store them, the maximum value in a' should be as small as possible."
b'Petya is good in theory, however, he needs your help to implement the algorithm.'
b'Input'
b'The first line of the input contains two integers n and m (, the number of rows and the number of columns of the table respectively.'
b'Each of the following n rows contain m integers ai,\xe2\x80\x89j (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ai,\xe2\x80\x89j\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89109) that are the values in the table.'
b'Output'
b'Output the compressed table in form of n lines each containing m integers.'
b'If there exist several answers such that the maximum number in the compressed table is minimum possible, you are allowed to output any of them.'
Tags
dfs and similar, dp, dsu, graphs, greedy, *2200
