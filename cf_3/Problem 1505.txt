b'Shrimpy Duc is a fat and greedy boy who is always hungry. After a while of searching for food to satisfy his never-ending hunger, Shrimpy Duc finds M&M candies lying unguarded on a L\xc3\x97LL\xc3\x97L grid. There are nn M&M candies on the grid, the ii-th M&M is currently located at (xi+0.5,yi+0.5),(xi+0.5,yi+0.5), and has color cici out of a total of kk colors (the size of M&Ms are insignificant).'
b"Shrimpy Duc wants to steal a rectangle of M&Ms, specifically, he wants to select a rectangle with integer coordinates within the grid and steal all candies within the rectangle. Shrimpy Duc doesn't need to steal every single candy, however, he would like to steal at least one candy for each color."
b'In other words, he wants to select a rectangle whose sides are parallel to the coordinate axes and whose left-bottom vertex (X1,Y1)(X1,Y1) and right-top vertex (X2,Y2)(X2,Y2) are points with integer coordinates satisfying 0\xe2\x89\xa4X1<X2\xe2\x89\xa4L0\xe2\x89\xa4X1<X2\xe2\x89\xa4L and 0\xe2\x89\xa4Y1<Y2\xe2\x89\xa4L0\xe2\x89\xa4Y1<Y2\xe2\x89\xa4L, so that for every color 1\xe2\x89\xa4c\xe2\x89\xa4k1\xe2\x89\xa4c\xe2\x89\xa4k there is at least one M&M with color cc that lies within that rectangle.'
b'How many such rectangles are there? This number may be large, so you only need to find it modulo 109+7109+7.'
b'Input'
b'The first line contains three positive integers n,k,Ln,k,L (1\xe2\x89\xa4k\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85103,1\xe2\x89\xa4L\xe2\x89\xa4109)(1\xe2\x89\xa4k\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85103,1\xe2\x89\xa4L\xe2\x89\xa4109) \xe2\x80\x94 the number of M&Ms, the number of colors and the length of the grid respectively.'
b'The following nn points describe the M&Ms. Each line contains three integers xi,yi,cixi,yi,ci (0\xe2\x89\xa4xi,yi<L,1\xe2\x89\xa4ci\xe2\x89\xa4k)(0\xe2\x89\xa4xi,yi<L,1\xe2\x89\xa4ci\xe2\x89\xa4k) \xe2\x80\x94 the coordinates and color of the ii-th M&M respectively. '
b'Different M&Ms have different coordinates (xi\xe2\x89\xa0xjxi\xe2\x89\xa0xj or yi\xe2\x89\xa0yjyi\xe2\x89\xa0yj for every i\xe2\x89\xa0ji\xe2\x89\xa0j), and for every 1\xe2\x89\xa4c\xe2\x89\xa4k1\xe2\x89\xa4c\xe2\x89\xa4k there is at least one M&M with color cc.'
b'Output'
b"Output a single integer \xe2\x80\x94 the number of rectangles satisfying Shrimpy Duc's conditions, modulo 109+7109+7."
Tags
data structures, sortings, two pointers, *3300
