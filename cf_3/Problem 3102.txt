b"You're given a tree consisting of nn nodes. Every node uu has a weight auau. You want to choose an integer kk (1\xe2\x89\xa4k\xe2\x89\xa4n)(1\xe2\x89\xa4k\xe2\x89\xa4n) and then choose kk connected components of nodes that don't overlap (i.e every node is in at most 1 component). Let the set of nodes you chose be ss. You want to maximize:"
b'\xe2\x88\x91u\xe2\x88\x88sauk\xe2\x88\x91u\xe2\x88\x88sauk'
b'In other words, you want to maximize the sum of weights of nodes in ss divided by the number of connected components you chose. Also, if there are several solutions, you want to maximize kk.'
b'Note that adjacent nodes can belong to different components. Refer to the third sample.'
b'Input'
b'The first line contains the integer nn (1\xe2\x89\xa4n\xe2\x89\xa43\xe2\x8b\x85105)(1\xe2\x89\xa4n\xe2\x89\xa43\xe2\x8b\x85105), the number of nodes in the tree.'
b'The second line contains nn space-separated integers a1a1, a2a2, \xe2\x80\xa6\xe2\x80\xa6, anan (|ai|\xe2\x89\xa4109)(|ai|\xe2\x89\xa4109), the weights of the nodes.'
b"The next n\xe2\x88\x921n\xe2\x88\x921 lines, each contains 2 space-separated integers uu and vv (1\xe2\x89\xa4u,v\xe2\x89\xa4n)(1\xe2\x89\xa4u,v\xe2\x89\xa4n) which means there's an edge between uu and vv."
b'Output'
b'Print the answer as a non-reduced fraction represented by 2 space-separated integers. The fraction itself should be maximized and if there are several possible ways, you should maximize the denominator. See the samples for a better understanding.'
Tags
dp, greedy, math, trees, *2400
