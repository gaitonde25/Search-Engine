b'This is an interactive task.'
b'Scientists are about to invent a new optimization for the Floyd-Warshall algorithm, which will allow it to work in linear time. There is only one part of the optimization still unfinished.'
b'It is well known that the Floyd-Warshall algorithm takes a graph with nn nodes and exactly one edge between each pair of nodes. The scientists have this graph, what is more, they have directed each edge in one of the two possible directions.'
b'To optimize the algorithm, exactly mm edges are colored in pink color and all the rest are colored in green. You know the direction of all mm pink edges, but the direction of green edges is unknown to you. In one query you can ask the scientists about the direction of exactly one green edge, however, you can perform at most 2\xe2\x8b\x85n2\xe2\x8b\x85n such queries.'
b'Your task is to find the node from which every other node can be reached by a path consisting of edges of same color. Be aware that the scientists may have lied that they had fixed the direction of all edges beforehand, so their answers may depend on your queries.'
b'Input'
b'The first line contains two integers nn and mm (1\xe2\x89\xa4n\xe2\x89\xa41000001\xe2\x89\xa4n\xe2\x89\xa4100000, 0\xe2\x89\xa4m\xe2\x89\xa41000000\xe2\x89\xa4m\xe2\x89\xa4100000)\xc2\xa0\xe2\x80\x94 the number of nodes and the number of pink edges.'
b'The next mm lines describe the pink edges, the ii-th of these lines contains two integers uiui, vivi (1\xe2\x89\xa4ui,vi\xe2\x89\xa4n1\xe2\x89\xa4ui,vi\xe2\x89\xa4n, ui\xe2\x89\xa0viui\xe2\x89\xa0vi)\xc2\xa0\xe2\x80\x94 the start and the end of the ii-th pink edge. It is guaranteed, that all unordered pairs (ui,vi)(ui,vi) are distinct.'
b'Output'
b'When you found the answer, print "!" and the number of the node from which every other node can be reached by a single-colored path.'
Tags
graphs, interactive, *3200
