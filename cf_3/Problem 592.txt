b'There are nn cities in a row numbered from 11 to nn.'
b'The cities will be building broadcasting stations. The station in the ii-th city has height hihi and range wiwi. It can broadcast information to city jj if the following constraints are met: '
b'  i\xe2\x89\xa4j\xe2\x89\xa4wii\xe2\x89\xa4j\xe2\x89\xa4wi, and  for each kk such that i<k\xe2\x89\xa4ji<k\xe2\x89\xa4j, the following condition holds: hk<hihk<hi. '
b' In other words, the station in city '
b''
b'ii'
b'i'
b' can broadcast information to city '
b''
b'jj'
b'j'
b' if '
b''
b'j\xe2\x89\xa5ij\xe2\x89\xa5i'
b'j \\ge i'
b', '
b''
b'jj'
b'j'
b' is in the range of '
b''
b'ii'
b'i'
b'-th station, and '
b''
b'ii'
b'i'
b' is strictly highest on the range from '
b''
b'ii'
b'i'
b' to '
b''
b'jj'
b'j'
b' (including city '
b''
b'jj'
b'j'
b').'
b'At the beginning, for every city ii, hi=0hi=0 and wi=iwi=i.'
b'Then qq events will take place. During ii-th event one of the following will happen: '
b'  City cici will rebuild its station so that its height will be strictly highest among all stations and wciwci will be set to gigi.  Let bjbj be the number of stations that can broadcast information to city jj. Print the sum of bjbj over all jj satisfying li\xe2\x89\xa4j\xe2\x89\xa4rili\xe2\x89\xa4j\xe2\x89\xa4ri. '
b'Your task is to react to all events and print answers to all queries.'
b'Input'
b'The first line contains two integers nn and qq (1\xe2\x89\xa4n,q\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4n,q\xe2\x89\xa42\xe2\x8b\x85105) \xe2\x80\x94 number of cities and number of events.'
b'Then qq lines follow. The ii-th line begins with an integer pipi (pi=1pi=1 or pi=2pi=2).'
b'If pi=1pi=1 a station will be rebuilt. Then two integers cici and gigi (1\xe2\x89\xa4ci\xe2\x89\xa4gi\xe2\x89\xa4n1\xe2\x89\xa4ci\xe2\x89\xa4gi\xe2\x89\xa4n) follow \xe2\x80\x94 the city in which the station is rebuilt and its new broadcasting range.'
b'If pi=2pi=2 you are given a query. Then two integers lili and riri (1\xe2\x89\xa4li\xe2\x89\xa4ri\xe2\x89\xa4n1\xe2\x89\xa4li\xe2\x89\xa4ri\xe2\x89\xa4n) follow \xe2\x80\x94 the range of cities in the query.'
b'Output'
b'For each query, print in a single line the sum of bjbj over the given interval.'
Tags
data structures, *3400
