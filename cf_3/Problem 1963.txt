b'The biggest event of the year \xe2\x80\x93 Cota 2 world championship "The Innernational" is right around the corner. 2n2n teams will compete in a double-elimination format (please, carefully read problem statement even if you know what is it) to identify the champion. '
b'Teams are numbered from 11 to 2n2n and will play games one-on-one. All teams start in the upper bracket.'
b"All upper bracket matches will be held played between teams that haven't lost any games yet. Teams are split into games by team numbers. Game winner advances in the next round of upper bracket, losers drop into the lower bracket."
b'Lower bracket starts with 2n\xe2\x88\x9212n\xe2\x88\x921 teams that lost the first upper bracket game. Each lower bracket round consists of two games. In the first game of a round 2k2k teams play a game with each other (teams are split into games by team numbers). 2k\xe2\x88\x9212k\xe2\x88\x921 loosing teams are eliminated from the championship, 2k\xe2\x88\x9212k\xe2\x88\x921 winning teams are playing 2k\xe2\x88\x9212k\xe2\x88\x921 teams that got eliminated in this round of upper bracket (again, teams are split into games by team numbers). As a result of each round both upper and lower bracket have 2k\xe2\x88\x9212k\xe2\x88\x921 teams remaining. See example notes for better understanding.'
b'Single remaining team of upper bracket plays with single remaining team of lower bracket in grand-finals to identify championship winner.'
b"You are a fan of teams with numbers a1,a2,...,aka1,a2,...,ak. You want the championship to have as many games with your favourite teams as possible. Luckily, you can affect results of every championship game the way you want. What's maximal possible number of championship games that include teams you're fan of?"
b'Input'
b'First input line has two integers n,kn,k\xc2\xa0\xe2\x80\x94 2n2n teams are competing in the championship. You are a fan of kk teams (2\xe2\x89\xa4n\xe2\x89\xa417;0\xe2\x89\xa4k\xe2\x89\xa42n2\xe2\x89\xa4n\xe2\x89\xa417;0\xe2\x89\xa4k\xe2\x89\xa42n).'
b"Second input line has kk distinct integers a1,\xe2\x80\xa6,aka1,\xe2\x80\xa6,ak\xc2\xa0\xe2\x80\x94 numbers of teams you're a fan of (1\xe2\x89\xa4ai\xe2\x89\xa42n1\xe2\x89\xa4ai\xe2\x89\xa42n)."
b'Output'
b"Output single integer\xc2\xa0\xe2\x80\x94 maximal possible number of championship games that include teams you're fan of."
Tags
dp, implementation, *2500
