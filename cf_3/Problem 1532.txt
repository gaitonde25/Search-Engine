b'You have a simple and connected undirected graph consisting of nn nodes and mm edges.'
b'Consider any way to pair some subset of these nn nodes such that no node is present in more than one pair. '
b'This pairing is valid if for every pair of pairs, the induced subgraph containing all 44 nodes, two from each pair, has at most 22 edges (out of the 66 possible edges). More formally, for any two pairs, (a,b)(a,b) and (c,d)(c,d), the induced subgraph with nodes {a,b,c,d}{a,b,c,d} should have at most 22 edges. '
b'Please note that the subgraph induced by a set of nodes contains nodes only from this set and edges which have both of its end points in this set.'
b'Now, do one of the following: '
b'  Find a simple path consisting of at least \xe2\x8c\x88n2\xe2\x8c\x89\xe2\x8c\x88n2\xe2\x8c\x89 nodes. Here, a path is called simple if it does not visit any node multiple times.  Find a valid pairing in which at least \xe2\x8c\x88n2\xe2\x8c\x89\xe2\x8c\x88n2\xe2\x8c\x89 nodes are paired. '
b'It can be shown that it is possible to find at least one of the two in every graph satisfying constraints from the statement. '
b'Input'
b'Each test contains multiple test cases. The first line contains the number of test cases tt (1\xe2\x89\xa4t\xe2\x89\xa41051\xe2\x89\xa4t\xe2\x89\xa4105). Description of the test cases follows.'
b'The first line of each test case contains 22 integers n,mn,m (2\xe2\x89\xa4n\xe2\x89\xa45\xe2\x8b\x851052\xe2\x89\xa4n\xe2\x89\xa45\xe2\x8b\x85105, 1\xe2\x89\xa4m\xe2\x89\xa41061\xe2\x89\xa4m\xe2\x89\xa4106), denoting the number of nodes and edges, respectively. '
b'The next mm lines each contain 22 integers uu and vv (1\xe2\x89\xa4u,v\xe2\x89\xa4n1\xe2\x89\xa4u,v\xe2\x89\xa4n, u\xe2\x89\xa0vu\xe2\x89\xa0v), denoting that there is an undirected edge between nodes uu and vv in the given graph.'
b'It is guaranteed that the given graph is connected, and simple \xc2\xa0\xe2\x80\x94 it does not contain multiple edges between the same pair of nodes, nor does it have any self-loops. '
b'It is guaranteed that the sum of nn over all test cases does not exceed 5\xe2\x8b\x851055\xe2\x8b\x85105.'
b'It is guaranteed that the sum of mm over all test cases does not exceed 106106.'
b'Output'
b'For each test case, the output format is as follows. '
b'If you have found a pairing, in the first line output "PAIRING" (without quotes). '
b'  Then, output kk (\xe2\x8c\x88n2\xe2\x8c\x89\xe2\x89\xa42\xe2\x8b\x85k\xe2\x89\xa4n\xe2\x8c\x88n2\xe2\x8c\x89\xe2\x89\xa42\xe2\x8b\x85k\xe2\x89\xa4n), the number of pairs in your pairing.  Then, in each of the next kk lines, output 22 integers aa and bb \xc2\xa0\xe2\x80\x94 denoting that aa and bb are paired with each other. Note that the graph does not have to have an edge between aa and bb! This pairing has to be valid, and every node has to be a part of at most 11 pair. '
b'Otherwise, in the first line output "PATH" (without quotes). '
b' Then, output kk (\xe2\x8c\x88n2\xe2\x8c\x89\xe2\x89\xa4k\xe2\x89\xa4n\xe2\x8c\x88n2\xe2\x8c\x89\xe2\x89\xa4k\xe2\x89\xa4n), the number of nodes in your path.  Then, in the second line, output kk integers, v1,v2,\xe2\x80\xa6,vkv1,v2,\xe2\x80\xa6,vk, in the order in which they appear on the path. Formally, vivi and vi+1vi+1 should have an edge between them for every ii (1\xe2\x89\xa4i<k1\xe2\x89\xa4i<k). This path has to be simple, meaning no node should appear more than once. '
Tags
constructive algorithms, dfs and similar, graphs, greedy, trees, *2600
