b'You are given an array consisting of n non-negative integers a1,\xe2\x80\x89a2,\xe2\x80\x89...,\xe2\x80\x89an.'
b'You are going to destroy integers in the array one by one. Thus, you are given the permutation of integers from 1 to n defining the order elements of the array are destroyed.'
b'After each element is destroyed you have to find out the segment of the array, such that it contains no destroyed elements and the sum of its elements is maximum possible. The sum of elements in the empty segment is considered to be 0.'
b'Input'
b'The first line of the input contains a single integer n (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89100\xe2\x80\x89000)\xc2\xa0\xe2\x80\x94 the length of the array.'
b'The second line contains n integers a1,\xe2\x80\x89a2,\xe2\x80\x89...,\xe2\x80\x89an (0\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ai\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89109). '
b'The third line contains a permutation of integers from 1 to n\xc2\xa0\xe2\x80\x94 the order used to destroy elements.'
b'Output'
b'Print n lines. The i-th line should contain a single integer\xc2\xa0\xe2\x80\x94 the maximum possible sum of elements on the segment containing no destroyed elements, after first i operations are performed.'
Tags
data structures, dsu, *1600
