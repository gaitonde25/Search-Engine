b'There are nn locations on a snowy mountain range (numbered from 11 to nn), connected by n\xe2\x88\x921n\xe2\x88\x921 trails in the shape of a tree. Each trail has length 11. Some of the locations are base lodges. The height hihi of each location is equal to the distance to the nearest base lodge (a base lodge has height 00).'
b'There is a skier at each location, each skier has initial kinetic energy 00. Each skier wants to ski along as many trails as possible. Suppose that the skier is skiing along a trail from location ii to jj. Skiers are not allowed to ski uphill (i.e., if hi<hjhi<hj). It costs one unit of kinetic energy to ski along flat ground (i.e., if hi=hjhi=hj), and a skier gains one unit of kinetic energy by skiing downhill (i.e., if hi>hjhi>hj). For each location, compute the length of the longest sequence of trails that the skier starting at that location can ski along without their kinetic energy ever becoming negative. Skiers are allowed to visit the same location or trail multiple times.'
b'Input'
b'The first line contains a single integer nn (2\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x851052\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85105).'
b'The second line contains nn integers l1,l2,\xe2\x80\xa6,lnl1,l2,\xe2\x80\xa6,ln (0\xe2\x89\xa4li\xe2\x89\xa410\xe2\x89\xa4li\xe2\x89\xa41). If li=1li=1, location ii is a base lodge; if li=0li=0, location ii is not a base lodge. It is guaranteed that there is at least 11 base lodge.'
b'Each of the next n\xe2\x88\x921n\xe2\x88\x921 lines contains two integers u,vu,v (1\xe2\x89\xa4u,v\xe2\x89\xa4n1\xe2\x89\xa4u,v\xe2\x89\xa4n, u\xe2\x89\xa0vu\xe2\x89\xa0v), meaning that there is a trail that connects the locations uu and vv. It is guaranteed that the given trails form a tree.'
b'Output'
b'Print nn integers: the ii-th integer is equal to the length of the longest sequence of trails that the skier starting at location ii can ski along without their kinetic energy ever becoming negative.'
Tags
data structures, dfs and similar, graphs, greedy, shortest paths, trees, *2900
