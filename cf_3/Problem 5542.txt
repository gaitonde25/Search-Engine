b'Polycarpus has a finite sequence of opening and closing brackets. In order not to fall asleep in a lecture, Polycarpus is having fun with his sequence. He is able to perform two operations:'
b'  adding any bracket in any position (in the beginning, the end, or between any two existing brackets);  cyclic shift \xe2\x80\x94 moving the last bracket from the end of the sequence to the beginning. '
b'Polycarpus can apply any number of operations to his sequence and adding a cyclic shift in any order. As a result, he wants to get the correct bracket sequence of the minimum possible length. If there are several such sequences, Polycarpus is interested in the lexicographically smallest one. Help him find such a sequence.'
b'Acorrect bracket sequence is a sequence of opening and closing brackets, from which you can get a correct arithmetic expression by adding characters "1" and "+" . Each opening bracket must correspond to a closed one. For example, the sequences "(())()", "()", "(()(()))" are correct and ")(", "(()" and "(()))(" are not.'
b'The sequence a1 a2... an is lexicographically smaller than sequence b1 b2... bn, if there is such number i from 1 to n, thatak\xe2\x80\x89=\xe2\x80\x89bk for 1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89k\xe2\x80\x89<\xe2\x80\x89i and ai\xe2\x80\x89<\xe2\x80\x89bi. Consider that "(" \xe2\x80\x89<\xe2\x80\x89 ")".'
b'Input'
b'The first line contains Polycarpus\'s sequence consisting of characters "(" and ")". The length of a line is from 1 to 1\xe2\x80\x89000\xe2\x80\x89000.'
b'Output'
b'Print a correct bracket sequence of the minimum length that Polycarpus can obtain by his operations. If there are multiple such sequences, print the lexicographically minimum one.'
Tags
data structures, greedy, hashing, string suffix structures, strings, *2700
