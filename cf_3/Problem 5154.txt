b'There are n sharks who grow flowers for Wet Shark. They are all sitting around the table, such that sharks i and i\xe2\x80\x89+\xe2\x80\x891 are neighbours for all i from 1 to n\xe2\x80\x89-\xe2\x80\x891. Sharks n and 1 are neighbours too.'
b"Each shark will grow some number of flowers si. For i-th shark value si is random integer equiprobably chosen in range from li to ri. Wet Shark has it's favourite prime number p, and he really likes it! If for any pair of neighbouring sharks i and j the product si\xc2\xb7sj is divisible by p, then Wet Shark becomes happy and gives 1000 dollars to each of these sharks."
b'At the end of the day sharks sum all the money Wet Shark granted to them. Find the expectation of this value.'
b'Input'
b"The first line of the input contains two space-separated integers n and p (3\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89100\xe2\x80\x89000,\xe2\x80\x892\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89p\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89109)\xc2\xa0\xe2\x80\x94 the number of sharks and Wet Shark's favourite prime number. It is guaranteed that p is prime."
b'The i-th of the following n lines contains information about i-th shark\xc2\xa0\xe2\x80\x94 two space-separated integers li and ri (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89li\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ri\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89109), the range of flowers shark i can produce. Remember that si is chosen equiprobably among all integers from li to ri, inclusive.'
b'Output'
b'Print a single real number \xe2\x80\x94 the expected number of dollars that the sharks receive in total. You answer will be considered correct if its absolute or relative error does not exceed 10\xe2\x80\x89-\xe2\x80\x896. '
b"Namely: let's assume that your answer is a, and the answer of the jury is b. The checker program will consider your answer correct, if ."
Tags
combinatorics, math, number theory, probabilities, *1700
