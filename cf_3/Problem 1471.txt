b'Once upon a time, in the Land of the Shamans, everyone lived on the Sky-High Beanstalk. Each shaman had a unique identifying number ii between 00 and N\xe2\x88\x921N\xe2\x88\x921, and an altitude value\xc2\xa0HiHi, representing how high he lived above ground level. The distance between two altitudes is the absolute value of their difference.'
b'All shamans lived together in peace, until one of them stole the formula of the world-famous Potion\xc2\xa0of\xc2\xa0Great\xc2\xa0Power. To cover his/her tracks, the Thief has put a Curse on the land: most inhabitants could no longer trust each other...'
b'Despite the very difficult circumstances, the Order of Good Investigators have gained the following information about the Curse: '
b'  When the Curse first takes effect, everyone stops trusting each other.   The Curse is unstable: at the end of each day (exactly at midnight), one pair of shamans will start or stop trusting each other.   Unfortunately, each shaman will only ever trust at most DD others at any given time. '
b' They have also reconstructed a log of who trusted whom: for each night they know which pair of shamans started/stopped trusting each other.'
b"They believe the Thief has whispered the formula to an Evil Shaman. To avoid detection, both of them visited the home of one of their (respective) trusted friends. During the visit, the Thief whispered the formula to the Evil Shaman through the window. (Note: this trusted friend did not have to be home at the time. In fact, it's even possible that they visited each other's houses \xe2\x80\x93 shamans are weird.)"
b'Fortunately, whispers only travel short distances, so the Order knows the two trusted friends visited (by the Thief and the Evil Shaman) must live very close to each other.'
b'They ask you to help with their investigation. They would like to test their suspicions: what if the Thief was xx, the Evil Shaman was yy, and the formula was whispered on day vv? What is the smallest distance the whispered formula had to travel? That is, what is the minimum distance between the apartments of some shamans x\xe2\x80\xb2x\xe2\x80\xb2 and y\xe2\x80\xb2y\xe2\x80\xb2 (i.e. min(|Hx\xe2\x80\xb2\xe2\x88\x92Hy\xe2\x80\xb2|)min(|Hx\xe2\x80\xb2\xe2\x88\x92Hy\xe2\x80\xb2|)), such that x\xe2\x80\xb2x\xe2\x80\xb2 was a trusted friend of xx and y\xe2\x80\xb2y\xe2\x80\xb2 was a trusted friend of yy on day\xc2\xa0vv?'
b'They will share all their information with you, then ask you a number of questions. You need to answer each question immediately, before receiving the next one.'
Tags
*special problem, 2-sat, binary search, data structures, graphs, interactive, sortings, two pointers, *2400
