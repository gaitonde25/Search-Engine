b'Welcome to another task about breaking the code lock! Explorers Whitfield and Martin came across an unusual safe, inside of which, according to rumors, there are untold riches, among which one can find the solution of the problem of discrete logarithm!'
b'Of course, there is a code lock is installed on the safe. The lock has a screen that displays a string of n lowercase Latin letters. Initially, the screen displays string s. Whitfield and Martin found out that the safe will open when string t will be displayed on the screen.'
b'The string on the screen can be changed using the operation \xc2\xabshift x\xc2\xbb. In order to apply this operation, explorers choose an integer x from 0 to n inclusive. After that, the current string p\xe2\x80\x89=\xe2\x80\x89\xce\xb1\xce\xb2 changes to \xce\xb2R\xce\xb1, where the length of \xce\xb2 is x, and the length of \xce\xb1 is n\xe2\x80\x89-\xe2\x80\x89x. In other words, the suffix of the length x of string p is reversed and moved to the beginning of the string. For example, after the operation \xc2\xabshift 4\xc2\xbb the string \xc2\xababcacb\xc2\xbb will be changed with string \xc2\xabbcacab \xc2\xbb, since \xce\xb1\xe2\x80\x89=\xe2\x80\x89ab, \xce\xb2\xe2\x80\x89=\xe2\x80\x89cacb, \xce\xb2R\xe2\x80\x89=\xe2\x80\x89bcac.'
b'Explorers are afraid that if they apply too many operations \xc2\xabshift\xc2\xbb, the lock will be locked forever. They ask you to find a way to get the string t on the screen, using no more than 6100 operations.'
b'Input'
b'The first line contains an integer n, the length of the strings s and t (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x892\xe2\x80\x89000).'
b'After that, there are two strings s and t, consisting of n lowercase Latin letters each.'
b'Output'
b'If it is impossible to get string t from string s using no more than 6100 operations \xc2\xabshift\xc2\xbb, print a single number \xe2\x80\x89-\xe2\x80\x891.'
b'Otherwise, in the first line output the number of operations k (0\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89k\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x896100). In the next line output k numbers xi corresponding to the operations \xc2\xabshift xi\xc2\xbb (0\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89xi\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n) in the order in which they should be applied.'
Tags
constructive algorithms, implementation, strings, *2300
