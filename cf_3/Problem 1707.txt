b'Oh, no!'
b"The coronavirus has caught you, and now you're sitting in a dark cellar, with tied legs (but not hands). You have a delicious cookie, a laptop in front of you, and your ideal development environment is open. The coronavirus convinces you to solve the following problem."
b'You are given two arrays AA and BB of size nn. You can do operations of two types with array AA: '
b'  Reverse array AA. That is the array [A1,\xc2\xa0A2,\xc2\xa0\xe2\x80\xa6,\xc2\xa0An][A1,\xc2\xa0A2,\xc2\xa0\xe2\x80\xa6,\xc2\xa0An] transformes into [An,\xc2\xa0An\xe2\x88\x921,\xc2\xa0\xe2\x80\xa6,\xc2\xa0A1][An,\xc2\xa0An\xe2\x88\x921,\xc2\xa0\xe2\x80\xa6,\xc2\xa0A1].  Replace AA with an array of its prefix sums. That is, the array [A1,\xc2\xa0A2,\xc2\xa0\xe2\x80\xa6,\xc2\xa0An][A1,\xc2\xa0A2,\xc2\xa0\xe2\x80\xa6,\xc2\xa0An] goes to [A1,\xc2\xa0(A1+A2),\xc2\xa0\xe2\x80\xa6,\xc2\xa0(A1+A2+\xe2\x80\xa6+An)][A1,\xc2\xa0(A1+A2),\xc2\xa0\xe2\x80\xa6,\xc2\xa0(A1+A2+\xe2\x80\xa6+An)]. '
b'You need to understand if you can get an array BB from the array AA. If it is possible, you will have to restore the order of these operations by minimizing the number of operations of the second type. Fortunately, the coronavirus is good today, so he has allowed you not to restore actions if the minimum number of second type operations is more than 2\xe2\x8b\x851052\xe2\x8b\x85105. But coronavirus resents you, so if you restore the answer, the total number of operations should not exceed 5\xe2\x8b\x851055\xe2\x8b\x85105.'
b'Solve this problem and get the cookie, or the coronavirus will extend the quarantine for five years and make the whole economy collapse! '
b'Input'
b'The first line contains a single integer nn (1\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85105).'
b'The second line contains nn integers A1,A2,\xe2\x80\xa6,AnA1,A2,\xe2\x80\xa6,An (1\xe2\x89\xa4Ai\xe2\x89\xa410121\xe2\x89\xa4Ai\xe2\x89\xa41012).'
b'The third line contains nn integers B1,B2,\xe2\x80\xa6,BnB1,B2,\xe2\x80\xa6,Bn (1\xe2\x89\xa4Bi\xe2\x89\xa410121\xe2\x89\xa4Bi\xe2\x89\xa41012).'
b'Output'
b'If you cannot get BB from the AA array, print "IMPOSSIBLE" (without quotes) on a single line.'
b'If the minimum number of operations of the second type exceeds 2\xe2\x8b\x851052\xe2\x8b\x85105, print "BIG" (without quotes). In the second line print the number of operations of the second type, that needs to be applied to get array BB from AA.'
b'Otherwise, in the first line print "SMALL" (without quotes). In the second line print the total number of operations of the first and second types m\xe2\x89\xa45\xe2\x8b\x85105m\xe2\x89\xa45\xe2\x8b\x85105 (it is guaranteed that in this case there is such a sequence of actions). In the third line print a line of length mm, consisting of characters \'R"and \'P\' (without quotes).'
b"The ii-th character should be 'R', if the ii-th action is of the first type, and should be 'P', otherwise."
b'If there are several such sequences, you can print any of them.'
b'You can print each character in the uppercase or in the lowercase.'
Tags
binary search, constructive algorithms, greedy, implementation, *2700
