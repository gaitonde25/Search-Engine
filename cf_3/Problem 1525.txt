b'Omkar has a pie tray with kk (2\xe2\x89\xa4k\xe2\x89\xa4202\xe2\x89\xa4k\xe2\x89\xa420) spots. Each spot in the tray contains either a chocolate pie or a pumpkin pie. However, Omkar does not like the way that the pies are currently arranged, and has another ideal arrangement that he would prefer instead.'
b"To assist Omkar, nn elves have gathered in a line to swap the pies in Omkar's tray. The jj-th elf from the left is able to swap the pies at positions ajaj and bjbj in the tray."
b"In order to get as close to his ideal arrangement as possible, Omkar may choose a contiguous subsegment of the elves and then pass his pie tray through the subsegment starting from the left. However, since the elves have gone to so much effort to gather in a line, they request that Omkar's chosen segment contain at least mm (1\xe2\x89\xa4m\xe2\x89\xa4n1\xe2\x89\xa4m\xe2\x89\xa4n) elves."
b'Formally, Omkar may choose two integers ll and rr satisfying 1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n and r\xe2\x88\x92l+1\xe2\x89\xa5mr\xe2\x88\x92l+1\xe2\x89\xa5m so that first the pies in positions alal and blbl will be swapped, then the pies in positions al+1al+1 and bl+1bl+1 will be swapped, etc. until finally the pies in positions arar and brbr are swapped.'
b"Help Omkar choose a segment of elves such that the amount of positions in Omkar's final arrangement that contain the same type of pie as in his ideal arrangement is the maximum possible. Note that since Omkar has a big imagination, it might be that the amounts of each type of pie in his original arrangement and in his ideal arrangement do not match."
b'Input'
b"The first line contains three integers nn, mm, and kk (1\xe2\x89\xa4m\xe2\x89\xa4n\xe2\x89\xa41061\xe2\x89\xa4m\xe2\x89\xa4n\xe2\x89\xa4106 and 2\xe2\x89\xa4k\xe2\x89\xa4202\xe2\x89\xa4k\xe2\x89\xa420) \xc2\xa0\xe2\x80\x94 the number of elves, the minimum subsegment length, and the number of spots in Omkar's tray respectively. "
b'The second and third lines each contain a string of length kk consisting of 00s and 11s that represent initial arrangement of pies and ideal arrangement of pies; the jj-th character in each string is equal to 00 if the jj-th spot in the arrangement contains a chocolate pie and is equal to 11 if the jj-th spot in the arrangement contains a pumpkin pie. It is not guaranteed that the two strings have the same amount of 00s or the same amount of 11s.'
b'nn lines follow. The jj-th of these lines contains two integers ajaj and bjbj (1\xe2\x89\xa4aj,bj\xe2\x89\xa4k1\xe2\x89\xa4aj,bj\xe2\x89\xa4k, aj\xe2\x89\xa0bjaj\xe2\x89\xa0bj) which indicate that the jj-th elf from the left can swap the pies at positions ajaj and bjbj in the tray.'
b'Output'
b'Output two lines. '
b"The first line should contain a single integer ss (0\xe2\x89\xa4s\xe2\x89\xa4k0\xe2\x89\xa4s\xe2\x89\xa4k) equal to the amount of positions that contain the same type of pie in Omkar's final arrangement and in Omkar's ideal arrangement; ss should be the maximum possible. "
b'The second line should contain two integers ll and rr satisfying 1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n and r\xe2\x88\x92l+1\xe2\x89\xa5mr\xe2\x88\x92l+1\xe2\x89\xa5m, indicating that Omkar should pass his tray through the subsegment l,l+1,\xe2\x80\xa6,rl,l+1,\xe2\x80\xa6,r to achieve a final arrangement with ss positions having the same type of pie as his ideal arrangement.'
b'If there are multiple answers you may output any of them.'
Tags
bitmasks, dfs and similar, dp, math, shortest paths, *2900
