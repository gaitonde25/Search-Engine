b"Let's define a balanced multiset the following way. Write down the sum of all elements of the multiset in its decimal representation. For each position of that number check if the multiset includes at least one element such that the digit of the element and the digit of the sum at that position are the same. If that holds for every position, then the multiset is balanced. Otherwise it's unbalanced."
b'For example, multiset {20,300,10001}{20,300,10001} is balanced and multiset {20,310,10001}{20,310,10001} is unbalanced: '
b'  '
b"The red digits mark the elements and the positions for which these elements have the same digit as the sum. The sum of the first multiset is 1032110321, every position has the digit required. The sum of the second multiset is 1033110331 and the second-to-last digit doesn't appear in any number, thus making the multiset unbalanced."
b'You are given an array a1,a2,\xe2\x80\xa6,ana1,a2,\xe2\x80\xa6,an, consisting of nn integers.'
b'You are asked to perform some queries on it. The queries can be of two types:'
b'  1\xc2\xa0i\xc2\xa0x1\xc2\xa0i\xc2\xa0x \xe2\x80\x94 replace aiai with the value xx;  2\xc2\xa0l\xc2\xa0r2\xc2\xa0l\xc2\xa0r \xe2\x80\x94 find the unbalanced subset of the multiset of the numbers al,al+1,\xe2\x80\xa6,aral,al+1,\xe2\x80\xa6,ar with the minimum sum, or report that no unbalanced subset exists. '
b'Note that the empty multiset is balanced.'
b'For each query of the second type print the lowest sum of the unbalanced subset. Print -1 if no unbalanced subset exists.'
b'Input'
b'The first line contains two integers nn and mm (1\xe2\x89\xa4n,m\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4n,m\xe2\x89\xa42\xe2\x8b\x85105) \xe2\x80\x94 the number of elements in the array and the number of queries, respectively.'
b'The second line contains nn integers a1,a2,\xe2\x80\xa6,ana1,a2,\xe2\x80\xa6,an (1\xe2\x89\xa4ai<1091\xe2\x89\xa4ai<109).'
b'Each of the following mm lines contains a query of one of two types:'
b'  1\xc2\xa0i\xc2\xa0x1\xc2\xa0i\xc2\xa0x (1\xe2\x89\xa4i\xe2\x89\xa4n1\xe2\x89\xa4i\xe2\x89\xa4n, 1\xe2\x89\xa4x<1091\xe2\x89\xa4x<109) \xe2\x80\x94 replace aiai with the value xx;  2\xc2\xa0l\xc2\xa0r2\xc2\xa0l\xc2\xa0r (1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n) \xe2\x80\x94 find the unbalanced subset of the multiset of the numbers al,al+1,\xe2\x80\xa6,aral,al+1,\xe2\x80\xa6,ar with the lowest sum, or report that no unbalanced subset exists. '
b'It is guaranteed that there is at least one query of the second type.'
b'Output'
b'For each query of the second type print the lowest sum of the unbalanced subset. Print -1 if no unbalanced subset exists.'
Tags
data structures, greedy, implementation, math, *2300
