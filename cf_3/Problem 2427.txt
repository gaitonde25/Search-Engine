b'You are given a weighted tree consisting of nn vertices. Recall that a tree is a connected graph without cycles. Vertices uiui and vivi are connected by an edge with weight wiwi.'
b"You are given mm queries. The ii-th query is given as an integer qiqi. In this query you need to calculate the number of pairs of vertices (u,v)(u,v) (u<vu<v) such that the maximum weight of an edge on a simple path between uu and vv doesn't exceed qiqi."
b'Input'
b'The first line of the input contains two integers nn and mm (1\xe2\x89\xa4n,m\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4n,m\xe2\x89\xa42\xe2\x8b\x85105) \xe2\x80\x94 the number of vertices in the tree and the number of queries.'
b'Each of the next n\xe2\x88\x921n\xe2\x88\x921 lines describes an edge of the tree. Edge ii is denoted by three integers uiui, vivi and wiwi \xe2\x80\x94 the labels of vertices it connects (1\xe2\x89\xa4ui,vi\xe2\x89\xa4n1\xe2\x89\xa4ui,vi\xe2\x89\xa4n, ui\xe2\x89\xa0viui\xe2\x89\xa0vi) and the weight of the edge (1\xe2\x89\xa4wi\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4wi\xe2\x89\xa42\xe2\x8b\x85105). It is guaranteed that the given edges form a tree.'
b'The last line of the input contains mm integers q1,q2,\xe2\x80\xa6,qmq1,q2,\xe2\x80\xa6,qm (1\xe2\x89\xa4qi\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4qi\xe2\x89\xa42\xe2\x8b\x85105), where qiqi is the maximum weight of an edge in the ii-th query.'
b'Output'
b"Print mm integers \xe2\x80\x94 the answers to the queries. The ii-th value should be equal to the number of pairs of vertices (u,v)(u,v) (u<vu<v) such that the maximum weight of an edge on a simple path between uu and vv doesn't exceed qiqi."
b'Queries are numbered from 11 to mm in the order of the input.'
Tags
divide and conquer, dsu, graphs, sortings, trees, *1800
