b'In the snake exhibition, there are nn rooms (numbered 00 to n\xe2\x88\x921n\xe2\x88\x921) arranged in a circle, with a snake in each room. The rooms are connected by nn conveyor belts, and the ii-th conveyor belt connects the rooms ii and (i+1)modn(i+1)modn. In the other words, rooms 00 and 11, 11 and 22, \xe2\x80\xa6\xe2\x80\xa6, n\xe2\x88\x922n\xe2\x88\x922 and n\xe2\x88\x921n\xe2\x88\x921, n\xe2\x88\x921n\xe2\x88\x921 and 00 are connected with conveyor belts.'
b'The ii-th conveyor belt is in one of three states:'
b'  If it is clockwise, snakes can only go from room ii to (i+1)modn(i+1)modn.  If it is anticlockwise, snakes can only go from room (i+1)modn(i+1)modn to ii.  If it is off, snakes can travel in either direction. '
b'  '
b'Above is an example with 44 rooms, where belts 00 and 33 are off, 11 is clockwise, and 22 is anticlockwise.'
b'Each snake wants to leave its room and come back to it later. A room is returnable if the snake there can leave the room, and later come back to it using the conveyor belts. How many such returnable rooms are there?'
b'Input'
b'Each test contains multiple test cases. The first line contains a single integer tt (1\xe2\x89\xa4t\xe2\x89\xa410001\xe2\x89\xa4t\xe2\x89\xa41000): the number of test cases. The description of the test cases follows. '
b' The first line of each test case description contains a single integer nn (2\xe2\x89\xa4n\xe2\x89\xa43000002\xe2\x89\xa4n\xe2\x89\xa4300000): the number of rooms.'
b" The next line of each test case description contains a string ss of length nn, consisting of only '<', '>' and '-'."
b"  If si=si= '>', the ii-th conveyor belt goes clockwise.  If si=si= '<', the ii-th conveyor belt goes anticlockwise.  If si=si= '-', the ii-th conveyor belt is off. "
b'It is guaranteed that the sum of nn among all test cases does not exceed 300000300000.'
b'Output'
b'For each test case, output the number of returnable rooms.'
Tags
graphs, implementation, *1200
