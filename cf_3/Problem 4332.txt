b'In his spare time Vladik estimates beauty of the flags.'
b'Every flag could be represented as the matrix n\xe2\x80\x89\xc3\x97\xe2\x80\x89m which consists of positive integers.'
b"Let's define the beauty of the flag as number of components in its matrix. We call component a set of cells with same numbers and between any pair of cells from that set there exists a path through adjacent cells from same component. Here is the example of the partitioning some flag matrix into components:"
b'  '
b'But this time he decided to change something in the process. Now he wants to estimate not the entire flag, but some segment. Segment of flag can be described as a submatrix of the flag matrix with opposite corners at (1,\xe2\x80\x89l) and (n,\xe2\x80\x89r), where conditions 1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89l\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89r\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89m are satisfied.'
b'Help Vladik to calculate the beauty for some segments of the given flag.'
b'Input'
b'First line contains three space-separated integers n, m, q (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x8910, 1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89m,\xe2\x80\x89q\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89105)\xc2\xa0\xe2\x80\x94 dimensions of flag matrix and number of segments respectively.'
b'Each of next n lines contains m space-separated integers\xc2\xa0\xe2\x80\x94 description of flag matrix. All elements of flag matrix is positive integers not exceeding 106.'
b'Each of next q lines contains two space-separated integers l, r (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89l\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89r\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89m)\xc2\xa0\xe2\x80\x94 borders of segment which beauty Vladik wants to know.'
b'Output'
b'For each segment print the result on the corresponding line.'
Tags
data structures, dsu, graphs, *2600
