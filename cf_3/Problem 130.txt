b'You are given a matrix aa, consisting of 33 rows and nn columns. Each cell of the matrix is either free or taken.'
b'A free cell yy is reachable from a free cell xx if at least one of these conditions hold: '
b'  xx and yy share a side;  there exists a free cell zz such that zz is reachable from xx and yy is reachable from zz. '
b'A connected component is a set of free cells of the matrix such that all cells in it are reachable from one another, but adding any other free cell to the set violates this rule.'
b'You are asked qq queries about the matrix. Each query is the following: '
b'  ll rr\xc2\xa0\xe2\x80\x94 count the number of connected components of the matrix, consisting of columns from ll to rr of the matrix aa, inclusive. '
b'Print the answers to all queries.'
b'Input'
b'The first line contains an integer nn (1\xe2\x89\xa4n\xe2\x89\xa45\xe2\x8b\x851051\xe2\x89\xa4n\xe2\x89\xa45\xe2\x8b\x85105)\xc2\xa0\xe2\x80\x94 the number of columns of matrix aa.'
b'The ii-th of the next three lines contains a description of the ii-th row of the matrix aa\xc2\xa0\xe2\x80\x94 a string, consisting of nn characters. Each character is either 11 (denoting a free cell) or 00 (denoting a taken cell).'
b'The next line contains an integer qq (1\xe2\x89\xa4q\xe2\x89\xa43\xe2\x8b\x851051\xe2\x89\xa4q\xe2\x89\xa43\xe2\x8b\x85105)\xc2\xa0\xe2\x80\x94 the number of queries.'
b'The jj-th of the next qq lines contains two integers ljlj and rjrj (1\xe2\x89\xa4lj\xe2\x89\xa4rj\xe2\x89\xa4n1\xe2\x89\xa4lj\xe2\x89\xa4rj\xe2\x89\xa4n)\xc2\xa0\xe2\x80\x94 the description of the jj-th query.'
b'Output'
b'Print qq integers\xc2\xa0\xe2\x80\x94 the jj-th value should be equal to the number of the connected components of the matrix, consisting of columns from ljlj to rjrj of the matrix aa, inclusive.'
Tags
brute force, data structures, dp, dsu, math, trees, *2500
