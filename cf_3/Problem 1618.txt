b'Omkar is building a house. He wants to decide how to make the floor plan for the last floor.'
b"Omkar's floor starts out as nn rows of mm zeros (1\xe2\x89\xa4n,m\xe2\x89\xa41001\xe2\x89\xa4n,m\xe2\x89\xa4100). Every row is divided into intervals such that every 00 in the row is in exactly 11 interval. For every interval for every row, Omkar can change exactly one of the 00s contained in that interval to a 11. Omkar defines the quality of a floor as the sum of the squares of the sums of the values in each column, i. e. if the sum of the values in the ii-th column is qiqi, then the quality of the floor is \xe2\x88\x91mi=1q2i\xe2\x88\x91i=1mqi2."
b'Help Omkar find the maximum quality that the floor can have.'
b'Input'
b'The first line contains two integers, nn and mm (1\xe2\x89\xa4n,m\xe2\x89\xa41001\xe2\x89\xa4n,m\xe2\x89\xa4100), which are the number of rows and number of columns, respectively.'
b'You will then receive a description of the intervals in each row. For every row ii from 11 to nn: The first row contains a single integer kiki (1\xe2\x89\xa4ki\xe2\x89\xa4m1\xe2\x89\xa4ki\xe2\x89\xa4m), which is the number of intervals on row ii. The jj-th of the next kiki lines contains two integers li,jli,j and ri,jri,j, which are the left and right bound (both inclusive), respectively, of the jj-th interval of the ii-th row. It is guaranteed that all intervals other than the first interval will be directly after the interval before it. Formally, li,1=1li,1=1, li,j\xe2\x89\xa4ri,jli,j\xe2\x89\xa4ri,j for all 1\xe2\x89\xa4j\xe2\x89\xa4ki1\xe2\x89\xa4j\xe2\x89\xa4ki, ri,j\xe2\x88\x921+1=li,jri,j\xe2\x88\x921+1=li,j for all 2\xe2\x89\xa4j\xe2\x89\xa4ki2\xe2\x89\xa4j\xe2\x89\xa4ki, and ri,ki=mri,ki=m.'
b'Output'
b'Output one integer, which is the maximum possible quality of an eligible floor plan.'
Tags
dp, greedy, two pointers, *2900
