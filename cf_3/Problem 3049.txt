b"There are nn kids, numbered from 11 to nn, dancing in a circle around the Christmas tree. Let's enumerate them in a clockwise direction as p1p1, p2p2, ..., pnpn (all these numbers are from 11 to nn and are distinct, so pp is a permutation). Let the next kid for a kid pipi be kid pi+1pi+1 if i<ni<n and p1p1 otherwise. After the dance, each kid remembered two kids: the next kid (let's call him xx) and the next kid for xx. Each kid told you which kids he/she remembered: the kid ii remembered kids ai,1ai,1 and ai,2ai,2. However, the order of ai,1ai,1 and ai,2ai,2 can differ from their order in the circle."
b'  Example: 5 kids in a circle, p=[3,2,4,1,5]p=[3,2,4,1,5] (or any cyclic shift). The information kids remembered is: a1,1=3a1,1=3, a1,2=5a1,2=5; a2,1=1a2,1=1, a2,2=4a2,2=4; a3,1=2a3,1=2, a3,2=4a3,2=4; a4,1=1a4,1=1, a4,2=5a4,2=5; a5,1=2a5,1=2, a5,2=3a5,2=3. '
b'You have to restore the order of the kids in the circle using this information. If there are several answers, you may print any. It is guaranteed that at least one solution exists.'
b'If you are Python programmer, consider using PyPy instead of Python when you submit your code.'
b'Input'
b'The first line of the input contains one integer nn (3\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x851053\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85105) \xe2\x80\x94 the number of the kids.'
b'The next nn lines contain 22 integers each. The ii-th line contains two integers ai,1ai,1 and ai,2ai,2 (1\xe2\x89\xa4ai,1,ai,2\xe2\x89\xa4n,ai,1\xe2\x89\xa0ai,21\xe2\x89\xa4ai,1,ai,2\xe2\x89\xa4n,ai,1\xe2\x89\xa0ai,2) \xe2\x80\x94 the kids the ii-th kid remembered, given in arbitrary order.'
b'Output'
b"Print nn integers p1p1, p2p2, ..., pnpn \xe2\x80\x94 permutation of integers from 11 to nn, which corresponds to the order of kids in the circle. If there are several answers, you may print any (for example, it doesn't matter which kid is the first in the circle). It is guaranteed that at least one solution exists."
Tags
implementation, *1600
