b'Little Artem is a very smart programmer. He knows many different difficult algorithms. Recently he has mastered in 2-SAT one.'
b'In computer science, 2-satisfiability (abbreviated as 2-SAT) is the special case of the problem of determining whether a conjunction (logical AND) of disjunctions (logical OR) have a solution, in which all disjunctions consist of no more than two arguments (variables). For the purpose of this problem we consider only 2-SAT formulas where each disjunction consists of exactly two arguments.'
b'Consider the following 2-SAT problem as an example: . Note that there might be negations in 2-SAT formula (like for x1 and for x4).'
b'Artem now tries to solve as many problems with 2-SAT as possible. He found a very interesting one, which he can not solve yet. Of course, he asks you to help him. '
b'The problem is: given two 2-SAT formulas f and g, determine whether their sets of possible solutions are the same. Otherwise, find any variables assignment x such that f(x)\xe2\x80\x89\xe2\x89\xa0\xe2\x80\x89g(x). '
b'Input'
b'The first line of the input contains three integers n, m1 and m2 (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x891000, 1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89m1,\xe2\x80\x89m2\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n2)\xc2\xa0\xe2\x80\x94 the number of variables, the number of disjunctions in the first formula and the number of disjunctions in the second formula, respectively.'
b'Next m1 lines contains the description of 2-SAT formula f. The description consists of exactly m1 pairs of integers xi (\xe2\x80\x89-\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89xi\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n,\xe2\x80\x89xi\xe2\x80\x89\xe2\x89\xa0\xe2\x80\x890) each on separate line, where xi\xe2\x80\x89>\xe2\x80\x890 corresponds to the variable without negation, while xi\xe2\x80\x89<\xe2\x80\x890 corresponds to the variable with negation. Each pair gives a single disjunction. Next m2 lines contains formula g in the similar format.'
b'Output'
b'If both formulas share the same set of solutions, output a single word "SIMILAR" (without quotes). Otherwise output exactly n integers xi ()\xc2\xa0\xe2\x80\x94 any set of values x such that f(x)\xe2\x80\x89\xe2\x89\xa0\xe2\x80\x89g(x).'
Tags
*3000
