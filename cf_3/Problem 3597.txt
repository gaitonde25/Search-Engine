b'In the NN country, there are nn cities, numbered from 11 to nn, and n\xe2\x88\x921n\xe2\x88\x921 roads, connecting them. There is a roads path between any two cities.'
b'There are mm bidirectional bus routes between cities. Buses drive between two cities taking the shortest path with stops in every city they drive through. Travelling by bus, you can travel from any stop on the route to any other. You can travel between cities only by bus.'
b'You are interested in qq questions: is it possible to get from one city to another and what is the minimum number of buses you need to use for it?'
b'Input'
b'The first line contains a single integer nn (2\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x851052\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85105)\xc2\xa0\xe2\x80\x94 the number of cities.'
b'The second line contains n\xe2\x88\x921n\xe2\x88\x921 integers p2,p3,\xe2\x80\xa6,pnp2,p3,\xe2\x80\xa6,pn (1\xe2\x89\xa4pi<i1\xe2\x89\xa4pi<i), where pipi means that cities pipi and ii are connected by road.'
b'The third line contains a single integer mm (1\xe2\x89\xa4m\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4m\xe2\x89\xa42\xe2\x8b\x85105)\xc2\xa0\xe2\x80\x94 the number of bus routes.'
b'Each of the next mm lines contains 22 integers aa and bb (1\xe2\x89\xa4a,b\xe2\x89\xa4n1\xe2\x89\xa4a,b\xe2\x89\xa4n, a\xe2\x89\xa0ba\xe2\x89\xa0b), meaning that there is a bus route between cities aa and bb. It is possible that there is more than one route between two cities.'
b'The next line contains a single integer qq (1\xe2\x89\xa4q\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4q\xe2\x89\xa42\xe2\x8b\x85105)\xc2\xa0\xe2\x80\x94 the number of questions you are interested in.'
b'Each of the next qq lines contains 22 integers vv and uu (1\xe2\x89\xa4v,u\xe2\x89\xa4n1\xe2\x89\xa4v,u\xe2\x89\xa4n, v\xe2\x89\xa0uv\xe2\x89\xa0u), meaning that you are interested if it is possible to get from city vv to city uu and what is the minimum number of buses you need to use for it.'
b'Output'
b'Print the answer for each question on a separate line. If there is no way to get from one city to another, print \xe2\x88\x921\xe2\x88\x921. Otherwise print the minimum number of buses you have to use.'
Tags
binary search, data structures, trees, *2800
