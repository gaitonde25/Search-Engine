b'You have to handle a very complex water distribution system. The system consists of nn junctions and mm pipes, ii-th pipe connects junctions xixi and yiyi.'
b'The only thing you can do is adjusting the pipes. You have to choose mm integer numbers f1f1, f2f2, ..., fmfm and use them as pipe settings. ii-th pipe will distribute fifi units of water per second from junction xixi to junction yiyi (if fifi is negative, then the pipe will distribute |fi||fi| units of water per second from junction yiyi to junction xixi). It is allowed to set fifi to any integer from \xe2\x88\x922\xe2\x8b\x85109\xe2\x88\x922\xe2\x8b\x85109 to 2\xe2\x8b\x851092\xe2\x8b\x85109.'
b'In order for the system to work properly, there are some constraints: for every i\xe2\x88\x88[1,n]i\xe2\x88\x88[1,n], ii-th junction has a number sisi associated with it meaning that the difference between incoming and outcoming flow for ii-th junction must be exactly sisi (if sisi is not negative, then ii-th junction must receive sisi units of water per second; if it is negative, then ii-th junction must transfer |si||si| units of water per second to other junctions).'
b'Can you choose the integers f1f1, f2f2, ..., fmfm in such a way that all requirements on incoming and outcoming flows are satisfied?'
b'Input'
b'The first line contains an integer nn (1\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85105) \xe2\x80\x94 the number of junctions.'
b'The second line contains nn integers s1,s2,\xe2\x80\xa6,sns1,s2,\xe2\x80\xa6,sn (\xe2\x88\x92104\xe2\x89\xa4si\xe2\x89\xa4104\xe2\x88\x92104\xe2\x89\xa4si\xe2\x89\xa4104) \xe2\x80\x94 constraints for the junctions.'
b'The third line contains an integer mm (0\xe2\x89\xa4m\xe2\x89\xa42\xe2\x8b\x851050\xe2\x89\xa4m\xe2\x89\xa42\xe2\x8b\x85105) \xe2\x80\x94 the number of pipes.'
b"ii-th of the next mm lines contains two integers xixi and yiyi (1\xe2\x89\xa4xi,yi\xe2\x89\xa4n1\xe2\x89\xa4xi,yi\xe2\x89\xa4n, xi\xe2\x89\xa0yixi\xe2\x89\xa0yi) \xe2\x80\x94 the description of ii-th pipe. It is guaranteed that each unordered pair (x,y)(x,y) will appear no more than once in the input (it means that there won't be any pairs (x,y)(x,y) or (y,x)(y,x) after the first occurrence of (x,y)(x,y)). It is guaranteed that for each pair of junctions there exists a path along the pipes connecting them."
b'Output'
b'If you can choose such integer numbers f1,f2,\xe2\x80\xa6,fmf1,f2,\xe2\x80\xa6,fm in such a way that all requirements on incoming and outcoming flows are satisfied, then output "Possible" in the first line. Then output mm lines, ii-th line should contain fifi \xe2\x80\x94 the chosen setting numbers for the pipes. Pipes are numbered in order they appear in the input.'
b'Otherwise output "Impossible" in the only line.'
Tags
dfs and similar, dp, greedy, trees, *2400
