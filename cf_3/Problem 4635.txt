b"Hongcow's teacher heard that Hongcow had learned about the cyclic shift, and decided to set the following problem for him."
b'You are given a list of n strings s1,\xe2\x80\x89s2,\xe2\x80\x89...,\xe2\x80\x89sn contained in the list A.'
b'A list X of strings is called stable if the following condition holds.'
b'First, a message is defined as a concatenation of some elements of the list X. You can use an arbitrary element as many times as you want, and you may concatenate these elements in any arbitrary order. Let SX denote the set of of all messages you can construct from the list. Of course, this set has infinite size if your list is nonempty.'
b'Call a single message good if the following conditions hold: '
b'  Suppose the message is the concatenation of k strings w1,\xe2\x80\x89w2,\xe2\x80\x89...,\xe2\x80\x89wk, where each wi is an element of X.  Consider the |w1|\xe2\x80\x89+\xe2\x80\x89|w2|\xe2\x80\x89+\xe2\x80\x89...\xe2\x80\x89+\xe2\x80\x89|wk| cyclic shifts of the string. Let m be the number of these cyclic shifts of the string that are elements of SX.  A message is good if and only if m is exactly equal to k. '
b'The list X is called stable if and only if every element of SX is good.'
b'Let f(L) be 1 if L is a stable list, and 0 otherwise.'
b'Find the sum of f(L) where L is a nonempty contiguous sublist of A (there are  contiguous sublists in total).'
b'Input'
b'The first line of input will contain a single integer n (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x8930), denoting the number of strings in the list.'
b'The next n lines will each contain a string si ().'
b'Output'
b'Print a single integer, the number of nonempty contiguous sublists that are stable.'
Tags
strings, two pointers, *3200
