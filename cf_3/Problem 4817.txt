b'Tony Stark is playing a game with his suits (they have auto-pilot now). He lives in Malibu. Malibu has n junctions numbered from 1 to n, connected with n\xe2\x80\x89-\xe2\x80\x891 roads. One can get from a junction to any other junction using these roads (graph of Malibu forms a tree).'
b"Tony has m suits. There's a special plan for each suit. The i-th suit will appear at the moment of time ti in the junction vi, and will move to junction ui using the shortest path between vi and ui with the speed ci roads per second (passing a junctions takes no time), and vanishing immediately when arriving at ui (if it reaches ui in time q, it's available there at moment q, but not in further moments). Also, suits move continuously (for example if vi\xe2\x80\x89\xe2\x89\xa0\xe2\x80\x89ui, at time  it's in the middle of a road. Please note that if vi\xe2\x80\x89=\xe2\x80\x89ui it means the suit will be at junction number vi only at moment ti and then it vanishes. "
b'An explosion happens if at any moment of time two suits share the same exact location (it may be in a junction or somewhere on a road; while appearing, vanishing or moving).'
b'Your task is to tell Tony the moment of the the first explosion (if there will be any).'
b'Input'
b'The first line of the input contains two integers n and m (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n,\xe2\x80\x89m\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89100\xe2\x80\x89000)\xc2\xa0\xe2\x80\x94 the number of junctions and the number of suits respectively.'
b'The next n\xe2\x80\x89-\xe2\x80\x891 lines contain the roads descriptions. Each line contains two integers ai and bi\xc2\xa0\xe2\x80\x94 endpoints of the i-th road (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ai,\xe2\x80\x89bi\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n, ai\xe2\x80\x89\xe2\x89\xa0\xe2\x80\x89bi).'
b'The next m lines contain the suit descriptions. The i-th of them contains four integers ti, ci, vi and ui (0\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ti\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x8910\xe2\x80\x89000,\xe2\x80\x891\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ci\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x8910\xe2\x80\x89000, 1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89vi,\xe2\x80\x89ui\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n), meaning the i-th suit will appear at moment of time ti at the junction vi and will move to the junction ui with a speed ci roads per second.'
b'Output'
b'If there would be no explosions at all, print -1 in the first and only line of output.'
b'Otherwise print the moment of the first explosion.'
b"Your answer will be considered correct if its relative or absolute error doesn't exceed 10\xe2\x80\x89-\xe2\x80\x896."
Tags
data structures, geometry, trees, *3300
