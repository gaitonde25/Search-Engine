b"You are given nn segments on a Cartesian plane. Each segment's endpoints have integer coordinates. Segments can intersect with each other. No two segments lie on the same line."
b'Count the number of distinct points with integer coordinates, which are covered by at least one segment.'
b'Input'
b'The first line contains a single integer nn (1\xe2\x89\xa4n\xe2\x89\xa410001\xe2\x89\xa4n\xe2\x89\xa41000) \xe2\x80\x94 the number of segments.'
b'Each of the next nn lines contains four integers Axi,Ayi,Bxi,ByiAxi,Ayi,Bxi,Byi (\xe2\x88\x92106\xe2\x89\xa4Axi,Ayi,Bxi,Byi\xe2\x89\xa4106\xe2\x88\x92106\xe2\x89\xa4Axi,Ayi,Bxi,Byi\xe2\x89\xa4106) \xe2\x80\x94 the coordinates of the endpoints AA, BB (A\xe2\x89\xa0BA\xe2\x89\xa0B) of the ii-th segment.'
b'It is guaranteed that no two segments lie on the same line.'
b'Output'
b'Print a single integer \xe2\x80\x94 the number of distinct points with integer coordinates, which are covered by at least one segment.'
Tags
fft, geometry, number theory, *2400
