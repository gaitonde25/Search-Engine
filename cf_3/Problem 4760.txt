b'Welcome to the world of Pokermon, yellow little mouse-like creatures, who absolutely love playing poker! '
b'Yeah, right\xe2\x80\xa6 '
b'In the ensuing Pokermon League, there are n registered Pokermon trainers, and t existing trainer teams each of which belongs to one of two conferences. Since there is a lot of jealousy between trainers, there are e pairs of trainers who hate each other. Their hate is mutual, there are no identical pairs among these, and no trainer hates himself (the world of Pokermon is a joyful place!). Each trainer has a wish-list of length li of teams he\xe2\x80\x99d like to join.'
b'Your task is to divide players into teams and the teams into two conferences, so that: '
b'  each trainer belongs to exactly one team;   no team is in both conferences;   total hate between conferences is at least e\xe2\x80\x89/\xe2\x80\x892;   every trainer is in a team from his wish-list. '
b'Total hate between conferences is calculated as the number of pairs of trainers from teams from different conferences who hate each other. '
b'Input'
b'The first line of the input contains two integer n (4\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x8950\xe2\x80\x89000) and e (2\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89e\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89100\xe2\x80\x89000)\xc2\xa0\xe2\x80\x94 the total number of Pokermon trainers and the number of pairs of trainers who hate each other.'
b'Pokermon trainers are numbered from 1 to n. Next e lines contain two integers a and b (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89a,\xe2\x80\x89b\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n) indicating that Pokermon trainers a and b hate each other. Next 2n lines are in a following format. Starting with Pokermon trainer 1, for each trainer in consecutive order: first number li (16\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89li\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x8920)\xc2\xa0\xe2\x80\x94 a size of Pokermon trainers wish list, then li positive integers ti,\xe2\x80\x89j (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ti,\xe2\x80\x89j\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89T), providing the teams the i-th trainer would like to be on.'
b'Each trainers wish list will contain each team no more than once. Teams on the wish lists are numbered in such a way that the set of all teams that appear on at least 1 wish list is set of consecutive positive integers {1,\xe2\x80\x892,\xe2\x80\x893,\xe2\x80\x89\xe2\x80\xa6,\xe2\x80\x89T}. Here T might be up to 1\xe2\x80\x89000\xe2\x80\x89000.'
b'Output'
b'Print two lines. The first line should contain n numbers, specifying for each trainer the team he is in.'
b'The second line should contain T numbers, specifying the conference for each team (1 or 2).'
Tags
math, probabilities, *2400
