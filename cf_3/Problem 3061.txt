b'You are given a forest \xe2\x80\x94 an undirected graph with nn vertices such that each its connected component is a tree.'
b'The diameter (aka "longest shortest path") of a connected undirected graph is the maximum number of edges in the shortest path between any pair of its vertices.'
b'You task is to add some edges (possibly zero) to the graph so that it becomes a tree and the diameter of the tree is minimal possible.'
b'If there are multiple correct answers, print any of them.'
b'Input'
b'The first line contains two integers nn and mm (1\xe2\x89\xa4n\xe2\x89\xa410001\xe2\x89\xa4n\xe2\x89\xa41000, 0\xe2\x89\xa4m\xe2\x89\xa4n\xe2\x88\x9210\xe2\x89\xa4m\xe2\x89\xa4n\xe2\x88\x921) \xe2\x80\x94 the number of vertices of the graph and the number of edges, respectively.'
b'Each of the next mm lines contains two integers vv and uu (1\xe2\x89\xa4v,u\xe2\x89\xa4n1\xe2\x89\xa4v,u\xe2\x89\xa4n, v\xe2\x89\xa0uv\xe2\x89\xa0u) \xe2\x80\x94 the descriptions of the edges.'
b'It is guaranteed that the given graph is a forest.'
b'Output'
b'In the first line print the diameter of the resulting tree.'
b'Each of the next (n\xe2\x88\x921)\xe2\x88\x92m(n\xe2\x88\x921)\xe2\x88\x92m lines should contain two integers vv and uu (1\xe2\x89\xa4v,u\xe2\x89\xa4n1\xe2\x89\xa4v,u\xe2\x89\xa4n, v\xe2\x89\xa0uv\xe2\x89\xa0u) \xe2\x80\x94 the descriptions of the added edges.'
b'The resulting graph should be a tree and its diameter should be minimal possible.'
b'For m=n\xe2\x88\x921m=n\xe2\x88\x921 no edges are added, thus the output consists of a single integer \xe2\x80\x94 diameter of the given tree.'
b'If there are multiple correct answers, print any of them.'
Tags
constructive algorithms, dfs and similar, greedy, trees, *2000
