b'Consider a following game between two players:'
b"There is an array b1b1, b2b2, ..., bkbk, consisting of positive integers. Initially a chip is placed into the first cell of the array, and b1b1 is decreased by 11. Players move in turns. Each turn the current player has to do the following: if the index of the cell where the chip is currently placed is xx, then he or she has to choose an index y\xe2\x88\x88[x,min(k,x+m)]y\xe2\x88\x88[x,min(k,x+m)] such that by>0by>0, move the chip to the cell yy and decrease byby by 11. If it's impossible to make a valid move, the current player loses the game."
b'Your task is the following: you are given an array aa consisting of nn positive integers, and qq queries to it. There are two types of queries:'
b' 11 ll rr dd \xe2\x80\x94 for every i\xe2\x88\x88[l,r]i\xe2\x88\x88[l,r] increase aiai by dd;  22 ll rr \xe2\x80\x94 tell who is the winner of the game that is played on the subarray of aa from index ll to index rr inclusive. Assume both players choose an optimal strategy.'
b'Input'
b'The first line contains three integers nn, mm and qq (1\xe2\x89\xa4n,q\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4n,q\xe2\x89\xa42\xe2\x8b\x85105, 1\xe2\x89\xa4m\xe2\x89\xa451\xe2\x89\xa4m\xe2\x89\xa45) \xe2\x80\x94 the number of elements in aa, the parameter described in the game and the number of queries, respectively.'
b'The second line contains nn integers a1a1, a2a2, ..., anan (1\xe2\x89\xa4ai\xe2\x89\xa410121\xe2\x89\xa4ai\xe2\x89\xa41012) \xe2\x80\x94 the elements of array aa.'
b'Then qq lines follow, each containing a query. There are two types of queries. The query of the first type is denoted by a line 11 ll rr dd (1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n, 1\xe2\x89\xa4d\xe2\x89\xa410121\xe2\x89\xa4d\xe2\x89\xa41012) and means that for every i\xe2\x88\x88[l,r]i\xe2\x88\x88[l,r] you should increase aiai by dd. The query of the second type is denoted by a line 22 ll rr (1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n1\xe2\x89\xa4l\xe2\x89\xa4r\xe2\x89\xa4n) and means that you have to determine who will win the game if it is played on the subarray of aa from index ll to index rr (inclusive).'
b'There is at least one query of type 22.'
b'Output'
b'For each query of type 22 print 11 if the first player wins in the corresponding game, or 22 if the second player wins.'
Tags
data structures, games, *3000
