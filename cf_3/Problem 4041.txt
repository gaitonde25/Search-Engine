b'There are n military men in the Berland army. Some of them have given orders to other military men by now. Given m pairs (xi, yi), meaning that the military man xi gave the i-th order to another military man yi.'
b'It is time for reform! The Berland Ministry of Defence plans to introduce ranks in the Berland army. Each military man should be assigned a rank \xe2\x80\x94 integer number between 1 and k, inclusive. Some of them have been already assigned a rank, but the rest of them should get a rank soon.'
b'Help the ministry to assign ranks to the rest of the army so that:'
b'  for each of m orders it is true that the rank of a person giving the order (military man xi) is strictly greater than the rank of a person receiving the order (military man yi);  for each rank from 1 to k there is at least one military man with this rank. '
b'Input'
b'The first line contains three integers n, m and k (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x892\xc2\xb7105, 0\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89m\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x892\xc2\xb7105, 1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89k\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x892\xc2\xb7105) \xe2\x80\x94 number of military men in the Berland army, number of orders and number of ranks.'
b"The second line contains n integers r1,\xe2\x80\x89r2,\xe2\x80\x89...,\xe2\x80\x89rn, where ri\xe2\x80\x89>\xe2\x80\x890 (in this case 1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ri\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89k) means that the i-th military man has been already assigned the rank ri; ri\xe2\x80\x89=\xe2\x80\x890 means the i-th military man doesn't have a rank yet."
b'The following m lines contain orders one per line. Each order is described with a line containing two integers xi, yi (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89xi,\xe2\x80\x89yi\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n, xi\xe2\x80\x89\xe2\x89\xa0\xe2\x80\x89yi). This line means that the i-th order was given by the military man xi to the military man yi. For each pair (x,\xe2\x80\x89y) of military men there could be several orders from x to y.'
b'Output'
b'Print n integers, where the i-th number is the rank of the i-th military man. If there are many solutions, print any of them.'
b'If there is no solution, print the only number -1.'
Tags
constructive algorithms, graphs, greedy, *2600
