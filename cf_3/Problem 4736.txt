b'You are given n sequences. Each sequence consists of positive integers, not exceeding m. All integers in one sequence are distinct, but the same integer may appear in multiple sequences. The length of the i-th sequence is ki.'
b'Each second integers in each of the sequences are shifted by one to the left, i.e. integers at positions i\xe2\x80\x89>\xe2\x80\x891 go to positions i\xe2\x80\x89-\xe2\x80\x891, while the first integers becomes the last.'
b'Each second we take the first integer of each sequence and write it down to a new array. Then, for each value x from 1 to m we compute the longest segment of the array consisting of element x only.'
b'The above operation is performed for 10100 seconds. For each integer from 1 to m find out the longest segment found at this time.'
b'Input'
b'The first line of the input contains two integers n and m (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n,\xe2\x80\x89m\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89100\xe2\x80\x89000)\xc2\xa0\xe2\x80\x94 the number of sequences and the maximum integer that can appear in the sequences. '
b"Then follow n lines providing the sequences. Each of them starts with an integer ki (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ki\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x8940)\xc2\xa0\xe2\x80\x94 the number of integers in the sequence, proceeded by ki positive integers\xc2\xa0\xe2\x80\x94 elements of the sequence. It's guaranteed that all integers in each sequence are pairwise distinct and do not exceed m."
b"The total length of all sequences doesn't exceed 200\xe2\x80\x89000."
b'Output'
b'Print m integers, the i-th of them should be equal to the length of the longest segment of the array with all its values equal to i during the first 10100 seconds.'
Tags
chinese remainder theorem, data structures, implementation, number theory, two pointers, *2800
