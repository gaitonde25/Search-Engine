b'There are four stones on an infinite line in integer coordinates a1,a2,a3,a4a1,a2,a3,a4. The goal is to have the stones in coordinates b1,b2,b3,b4b1,b2,b3,b4. The order of the stones does not matter, that is, a stone from any position aiai can end up in at any position bjbj, provided there is a required number of stones in each position (that is, if a coordinate xx appears kk times among numbers b1,\xe2\x80\xa6,b4b1,\xe2\x80\xa6,b4, there should be exactly kk stones at xx in the end).'
b'We are allowed to move stones with the following operation: choose two stones at distinct positions xx and yy with at least one stone each, and move one stone from xx to 2y\xe2\x88\x92x2y\xe2\x88\x92x. In other words, the operation moves a stone to a symmetric position relative to some other stone. At any moment it is allowed to have any number of stones at the same position.'
b'Find any sequence of operations that achieves the goal, or determine that it is impossible. The sequence does not have to be shortest, but it may contain at most 10001000 operations.'
b'Input'
b'The first line contains four integers a1,\xe2\x80\xa6,a4a1,\xe2\x80\xa6,a4 (\xe2\x88\x92109\xe2\x89\xa4ai\xe2\x89\xa4109\xe2\x88\x92109\xe2\x89\xa4ai\xe2\x89\xa4109)\xc2\xa0\xe2\x80\x94 initial coordinates of the stones. There may be multiple stones sharing the same coordinate.'
b'The second line contains four integers b1,\xe2\x80\xa6,b4b1,\xe2\x80\xa6,b4 (\xe2\x88\x92109\xe2\x89\xa4bi\xe2\x89\xa4109\xe2\x88\x92109\xe2\x89\xa4bi\xe2\x89\xa4109)\xc2\xa0\xe2\x80\x94 target coordinates of the stones. There may be multiple targets sharing the same coordinate.'
b'Output'
b'If there is no sequence of operations that achieves the goal, print a single integer \xe2\x88\x921\xe2\x88\x921. Otherwise, on the first line print a single integer kk (0\xe2\x89\xa4k\xe2\x89\xa410000\xe2\x89\xa4k\xe2\x89\xa41000)\xc2\xa0\xe2\x80\x94 the number of operations in your sequence. On the next kk lines, describe the operations. The ii-th of these lines should contain two integers xixi and yiyi (xi\xe2\x89\xa0yixi\xe2\x89\xa0yi)\xc2\xa0\xe2\x80\x94 coordinates of the moved stone and the center of symmetry stone for the ii-th operation.'
b'For each operation ii, there should at least one stone in each of the coordinates xixi and yiyi, and the resulting coordinate 2yi\xe2\x88\x92xi2yi\xe2\x88\x92xi must not exceed 10181018 by absolute value.'
b'If there are multiple suitable sequences, print any of them. It is guaranteed that if there is a suitable sequence of operations, then there is also a suitable sequence that satisfies all the additional requirement.'
Tags
constructive algorithms, *3500
