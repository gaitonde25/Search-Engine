b'Polycarp plays a computer game (yet again). In this game, he fights monsters using magic spells.'
b'There are two types of spells: fire spell of power xx deals xx damage to the monster, and lightning spell of power yy deals yy damage to the monster and doubles the damage of the next spell Polycarp casts. Each spell can be cast only once per battle, but Polycarp can cast them in any order.'
b'For example, suppose that Polycarp knows three spells: a fire spell of power 55, a lightning spell of power 11, and a lightning spell of power 88. There are 66 ways to choose the order in which he casts the spells:'
b'  first, second, third. This order deals 5+1+2\xe2\x8b\x858=225+1+2\xe2\x8b\x858=22 damage;  first, third, second. This order deals 5+8+2\xe2\x8b\x851=155+8+2\xe2\x8b\x851=15 damage;  second, first, third. This order deals 1+2\xe2\x8b\x855+8=191+2\xe2\x8b\x855+8=19 damage;  second, third, first. This order deals 1+2\xe2\x8b\x858+2\xe2\x8b\x855=271+2\xe2\x8b\x858+2\xe2\x8b\x855=27 damage;  third, first, second. This order deals 8+2\xe2\x8b\x855+1=198+2\xe2\x8b\x855+1=19 damage;  third, second, first. This order deals 8+2\xe2\x8b\x851+2\xe2\x8b\x855=208+2\xe2\x8b\x851+2\xe2\x8b\x855=20 damage. '
b'Initially, Polycarp knows 00 spells. His spell set changes nn times, each time he either learns a new spell or forgets an already known one. After each change, calculate the maximum possible damage Polycarp may deal using the spells he knows.'
b'Input'
b'The first line contains one integer nn (1\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x851051\xe2\x89\xa4n\xe2\x89\xa42\xe2\x8b\x85105)\xc2\xa0\xe2\x80\x94 the number of changes to the spell set.'
b'Each of the next nn lines contains two integers tptp and dd (0\xe2\x89\xa4tpi\xe2\x89\xa410\xe2\x89\xa4tpi\xe2\x89\xa41; \xe2\x88\x92109\xe2\x89\xa4d\xe2\x89\xa4109\xe2\x88\x92109\xe2\x89\xa4d\xe2\x89\xa4109; di\xe2\x89\xa00di\xe2\x89\xa00) \xe2\x80\x94 the description of the change. If tpitpi if equal to 00, then Polycarp learns (or forgets) a fire spell, otherwise he learns (or forgets) a lightning spell.'
b'If di>0di>0, then Polycarp learns a spell of power didi. Otherwise, Polycarp forgets a spell with power \xe2\x88\x92di\xe2\x88\x92di, and it is guaranteed that he knew that spell before the change.'
b'It is guaranteed that the powers of all spells Polycarp knows after each change are different (Polycarp never knows two spells with the same power).'
b'Output'
b'After each change, print the maximum damage Polycarp can deal with his current set of spells.'
Tags
binary search, data structures, greedy, implementation, math, sortings, *2200
