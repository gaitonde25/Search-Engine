b'Each month Blake gets the report containing main economic indicators of the company "Blake Technologies". There are n commodities produced by the company. For each of them there is exactly one integer in the final report, that denotes corresponding revenue. Before the report gets to Blake, it passes through the hands of m managers. Each of them may reorder the elements in some order. Namely, the i-th manager either sorts first ri numbers in non-descending or non-ascending order and then passes the report to the manager i\xe2\x80\x89+\xe2\x80\x891, or directly to Blake (if this manager has number i\xe2\x80\x89=\xe2\x80\x89m).'
b'Employees of the "Blake Technologies" are preparing the report right now. You know the initial sequence ai of length n and the description of each manager, that is value ri and his favourite order. You are asked to speed up the process and determine how the final report will look like.'
b'Input'
b'The first line of the input contains two integers n and m (1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n,\xe2\x80\x89m\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89200\xe2\x80\x89000)\xc2\xa0\xe2\x80\x94 the number of commodities in the report and the number of managers, respectively.'
b'The second line contains n integers ai (|ai|\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89109)\xc2\xa0\xe2\x80\x94 the initial report before it gets to the first manager.'
b'Then follow m lines with the descriptions of the operations managers are going to perform. The i-th of these lines contains two integers ti and ri (, 1\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89ri\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n), meaning that the i-th manager sorts the first ri numbers either in the non-descending (if ti\xe2\x80\x89=\xe2\x80\x891) or non-ascending (if ti\xe2\x80\x89=\xe2\x80\x892) order.'
b'Output'
b'Print n integers\xc2\xa0\xe2\x80\x94 the final report, which will be passed to Blake by manager number m.'
Tags
data structures, sortings, *1700
