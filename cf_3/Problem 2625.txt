b'This problem differs from the next problem only in constraints.'
b'Petya decided to visit Byteland during the summer holidays. It turned out that the history of this country is quite unusual.'
b'Initially, there were nn different countries on the land that is now Berland. Each country had its own territory that was represented as a rectangle on the map. The sides of the rectangle were parallel to the axes, and the corners were located at points with integer coordinates. Territories of no two countries intersected, but it was possible that some territories touched each other. As time passed, sometimes two countries merged into one. It only happened if the union of their territories was also a rectangle. In the end only one country remained\xc2\xa0\xe2\x80\x94 Byteland.'
b'Initially, each country had a rectangular castle inside its territory. Its sides were parallel to the axes and its corners had integer coordinates. Some castles might touch the border of the corresponding country and sides or other castles. Miraculously, after all the unions the castles are still intact. Unfortunately, their locations are the only information we have to restore the initial territories of the countries.'
b'  The possible formation of Byteland. The castles are shown in blue. '
b'Petya wonders why no information about the initial countries remained. He suspected that the whole story is a fake. You were recommended to him as a smart person. Please check whether or not there exists a possible set of initial territories that could make the story true.'
b'Input'
b'The first line contains a single integer nn (1\xe2\x89\xa4n\xe2\x89\xa410001\xe2\x89\xa4n\xe2\x89\xa41000)\xc2\xa0\xe2\x80\x94 the number of countries and castles.'
b'Each of the next nn lines contains four integers ai,bi,ci,diai,bi,ci,di (0\xe2\x89\xa4ai<ci\xe2\x89\xa41090\xe2\x89\xa4ai<ci\xe2\x89\xa4109, 0\xe2\x89\xa4bi<di\xe2\x89\xa41090\xe2\x89\xa4bi<di\xe2\x89\xa4109)\xc2\xa0\xe2\x80\x94 the coordinates of the ii-th castle, where (ai,bi)(ai,bi) are the coordinates of the lower left corner and (ci,di)(ci,di) are the coordinates of the upper right corner.'
b'It is guaranteed, that no two castles intersect, however, they may touch.'
b'Output'
b'If there exists a possible set of territories that satisfies the story, print "YES", otherwise print "NO".'
b'You can print each letter in any case (upper or lower).'
Tags
brute force, divide and conquer, sortings, *2500
