b"Breaking news from zombie neurology! It turns out that \xe2\x80\x93 contrary to previous beliefs \xe2\x80\x93 every zombie is born with a single brain, and only later it evolves into a complicated brain structure. In fact, whenever a zombie consumes a brain, a new brain appears in its nervous system and gets immediately connected to one of the already existing brains using a single brain connector. Researchers are now interested in monitoring the brain latency of a zombie. Your task is to write a program which, given a history of evolution of a zombie's nervous system, computes its brain latency at every stage."
b'Input'
b"The first line of the input contains one number n \xe2\x80\x93 the number of brains in the final nervous system (2\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89n\xe2\x80\x89\xe2\x89\xa4\xe2\x80\x89200000). In the second line a history of zombie's nervous system evolution is given. For convenience, we number all the brains by 1,\xe2\x80\x892,\xe2\x80\x89...,\xe2\x80\x89n in the same order as they appear in the nervous system (the zombie is born with a single brain, number 1, and subsequently brains 2,\xe2\x80\x893,\xe2\x80\x89...,\xe2\x80\x89n are added). The second line contains n\xe2\x80\x89-\xe2\x80\x891 space-separated numbers p2,\xe2\x80\x89p3,\xe2\x80\x89...,\xe2\x80\x89pn, meaning that after a new brain k is added to the system, it gets connected to a parent-brain ."
b'Output'
b'Output n\xe2\x80\x89-\xe2\x80\x891 space-separated numbers \xe2\x80\x93 the brain latencies after the brain number k is added, for k\xe2\x80\x89=\xe2\x80\x892,\xe2\x80\x893,\xe2\x80\x89...,\xe2\x80\x89n.'
Tags
trees, *2200
