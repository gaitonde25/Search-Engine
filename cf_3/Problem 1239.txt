b'The only difference between the easy and hard versions is the constraints on the number of queries.'
b'This is an interactive problem.'
b'Ridbit has a hidden array aa of nn integers which he wants Ashish to guess. Note that nn is a power of two. Ashish is allowed to ask three different types of queries. They are of the form '
b'  AND ii jj: ask for the bitwise AND of elements aiai and ajaj (1\xe2\x89\xa4i,j\xe2\x89\xa4n(1\xe2\x89\xa4i,j\xe2\x89\xa4n, i\xe2\x89\xa0j)i\xe2\x89\xa0j)  OR ii jj: ask for the bitwise OR of elements aiai and ajaj (1\xe2\x89\xa4i,j\xe2\x89\xa4n(1\xe2\x89\xa4i,j\xe2\x89\xa4n, i\xe2\x89\xa0j)i\xe2\x89\xa0j)  XOR ii jj: ask for the bitwise XOR of elements aiai and ajaj (1\xe2\x89\xa4i,j\xe2\x89\xa4n(1\xe2\x89\xa4i,j\xe2\x89\xa4n, i\xe2\x89\xa0j)i\xe2\x89\xa0j) '
b'Can you help Ashish guess the elements of the array?'
b'In this version, each element takes a value in the range [0,n\xe2\x88\x921][0,n\xe2\x88\x921] (inclusive) and Ashish can ask no more than n+2n+2 queries.'
b'Input'
b'The first line of input contains one integer nn (4\xe2\x89\xa4n\xe2\x89\xa4216)(4\xe2\x89\xa4n\xe2\x89\xa4216)\xc2\xa0\xe2\x80\x94 the length of the array. It is guaranteed that nn is a power of two.'
Tags
bitmasks, constructive algorithms, interactive, math, *2000
